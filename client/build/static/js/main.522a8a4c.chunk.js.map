{"version":3,"sources":["apiRoute.js","auth/authorization.js","store/errors.js","store/util.js","store/authSlice.js","components/auth/Login.js","store/foldersSlice.js","store/usersSlice.js","components/dashboard/UpdateInfo.js","components/folders/ParentFoldersBar.js","components/folders/ChildInfo.js","components/folders/EditDialog.js","components/folders/DeleteDialog.js","components/dashboard/UserInfo.js","components/folders/UserInfoDialog.js","components/folders/Folder.js","components/nav/NavBar.js","components/nav/NavDrawer.js","components/auth/PrivateRoute.js","components/users/CreateUserBar.js","components/users/EditUserDialog.js","components/users/UserRoleInfo.js","components/users/UserInfo.js","components/users/ChangePasswordDialog.js","components/users/DeleteUserDialog.js","store/userRolesSlice.js","components/users/AddUserRoleDialog.js","components/users/Users.js","components/userRoles/UserRolesBar.js","components/userRoles/AccessRoleInfo.js","components/userRoles/UserRoleInfo.js","components/userRoles/EditUserRoleDialog.js","components/userRoles/DeleteUserRoleDialog.js","components/userRoles/AddAccessRoleDialog.js","components/userRoles/UserRoles.js","components/dashboard/Profile.js","components/dashboard/Updates.js","components/dashboard/Dashboard.js","Routes.js","serviceWorker.js","store/index.js","index.js"],"names":["API_ROUTE","setAuthorizationToken","token","axios","defaults","headers","common","Authorization","ErrNetworkErr","ErrRequiredUserUsername","ErrRequiredFirstName","ErrRequiredLastName","ErrRequiredUserPassword","ErrUserUnauthorized","ErrRequiredUserRoleName","toggleLoad","state","loading","error","undefined","onError","action","payload","loginUser","createAsyncThunk","loginDetails","rejectWithValue","post","response","data","authSlice","createSlice","name","initialState","loadStatus","isAuthenticated","userData","reducers","loadUserFromStorage","localStorage","getItem","JSON","parse","updateUserData","setItem","stringify","logoutUser","removeItem","history","push","extraReducers","pending","fulfilled","user_data","rejected","actions","useStyles","makeStyles","card","paddingTop","container","flexGrow","margin","Login","classes","dispatch","useDispatch","authState","useSelector","auth","useState","username","password","setLoginDetails","attemptedLogin","setAttemptedLogin","showPassword","setShowPassword","onChange","e","target","value","onClick","preventDefault","onKeyPress","key","to","usernameError","passwordError","Grid","direction","alignItems","className","item","sm","Card","elevation","CardActions","spacing","TextField","placeholder","helperText","type","InputProps","endAdornment","InputAdornment","position","IconButton","Visibility","VisibilityOff","Button","variant","foldersAdapter","createEntityAdapter","sortComparer","a","b","id","getInitialState","function","updates","createFolder","folder","getFolder","folderID","getState","get","parentID","parent_folder_id","folders","ids","includes","child_folders","forEach","updateFolder","put","deleteFolder","delete","createFile","file","formData","FormData","append","getFile","entity","method","url","responseType","fileDownload","updateFile","console","log","deleteFile","addUpdate","length","updatedAt","Date","updated_at","l","h","m","parseInt","otherUpdate","splice","i","files","foldersSlice","clearFolder","removeAll","updateFunction","upsertOne","entities","yesterday","now","parentFolder","filter","updateOne","parent","parentFolderID","child","removeOne","folder_id","selectFolderById","getSelectors","selectById","usersAdapter","loadedData","createUser","user","getUsers","_","getUser","userID","updateUser","deleteUser","addUserRole","userRole","removeUserRole","usersSlice","clearUsers","upsertMany","selectUserById","users","listItem","padding","days","getTime","time","date","mins","getMinutes","getDay","getHours","UpdateInfo","update","last_editor_id","usersState","useEffect","ListItem","button","component","Link","access_roles","ListItemIcon","InsertDriveFile","ListItemText","width","verticalAlign","display","fontSize","textTransform","cardActions","float","cardContent","paddingLeft","cardWithParentContent","parentFolderActions","paddingRight","ParentFoldersBar","showUser","foldersState","parentFolders","setParentFolders","currentId","lastEditor","setLastEditor","square","parentFolderComponents","Typography","disabled","style","color","reverse","generateFolders","ButtonGroup","cardActionArea","whiteSpace","typography","ChildInfo","CardActionArea","grid","is_published","access_level","dialogActions","justifyContent","EditDialog","open","setOpen","setLoading","setName","nameError","setNameError","fileData","setFileData","onClose","Dialog","DialogContent","LinearProgress","autoFocus","label","DialogActions","DeleteDialog","setError","DialogTitle","DialogContentText","textField","UserInfo","first_name","last_name","dialogContent","overflow","UserInfoDialog","Folder","useParams","userInfoOpen","setUserInfoOpen","setUserData","onShowUser","compareChildren","renderChildFoldersAndFiles","slice","sort","map","errorMessage","CardContent","justify","NavBar","toggleNavDrawer","AppBar","zIndex","Toolbar","edge","Menu","NavDrawer","Drawer","anchor","List","primary","is_admin","ExitToApp","PrivateRoute","Component","rest","render","props","CreateUserBar","openEditDialog","dialogContentText","marginTop","marginBottom","EditUserDialog","create","newUser","setNewUser","userError","setUserError","property","getUserError","Object","keys","Checkbox","checked","replace","UserRoleInfo","userRoleData","buttonGroup","openAdd","openEdit","openPassword","openDelete","Accordion","AccordionSummary","AccountCircle","stopPropagation","AccordionActions","user_roles","ChangePasswordDialog","setPassword","confirmPassword","setConfirmPassword","setPasswordError","confirmPasswordError","setConfirmPasswordError","DeleteUserDialog","userRolesAdapter","createUserRole","getUserRoles","updateUserRole","deleteUserRole","userRoleID","addAccessRole","accessRole","removeAccessRole","userRolesSlice","clearUserRoles","user_role_id","role","userRoles","formControl","minWidth","AddUserRoleDialog","userRolesState","setUserRole","FormControl","InputLabel","Select","values","MenuItem","FormHelperText","columns","field","headerName","div","height","select","Users","filterUser","setFilterUser","setUsers","handleRequestFilter","toString","entries","toLowerCase","setOpenEditDialog","setCreate","openPasswordDialog","setOpenPasswordDialog","openDeleteDialog","setOpenDeleteDialog","openAddDialog","setOpenAddDialog","TableContainer","Table","TableHead","TableRow","column","TableCell","align","UserRolesBar","searchTerm","setSearchTerm","accessLevels","AccessRoleInfo","accessRoleData","path","setPath","count","currentPath","EditUserRoleDialog","DeleteUserRoleDialog","dialog","form","AddAccessRoleDialog","setFolder","loadFolder","accessLevel","setAccessLevel","Divider","level","index","UserRoles","setUserRoles","setUserRoleData","deleteID","setDeleteID","Profile","Updates","Dashboard","createBrowserHistory","Routes","navDrawerOpen","setNavDrawerOpen","exact","Boolean","window","location","hostname","match","configureStore","reducer","authReducer","foldersReducer","usersReducer","userRolesReducer","ReactDOM","store","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"uWAEeA,EAFC,gCCED,SAASC,EAAuBC,GACzCA,EACFC,IAAMC,SAASC,QAAQC,OAAOC,cAA9B,iBAAwDL,UAEjDC,IAAMC,SAASC,QAAQC,OAAOC,aAExC,CCRM,I,QAAMC,EAAgB,gBAGhBC,EAA0B,oBAE1BC,EAAuB,sBACvBC,EAAsB,qBACtBC,EAA0B,oBAG1BC,EAAsB,eAYtBC,EAA0B,0BCtB1BC,EAAa,SAAAC,GACxBA,EAAMC,SAAU,EAChBD,EAAME,WAAQC,CACf,EAEYC,EAAU,SAACJ,EAAOK,GAC7BL,EAAMC,SAAU,EAChBD,EAAME,MAAQG,EAAOC,OACtB,ECMYC,EAAYC,YACvB,iBADuC,iDAEvC,WAAOC,EAAP,6FAAuBC,EAAvB,EAAuBA,gBAAvB,kBAE2BvB,IAAMwB,KAAN,UAAc3B,EAAd,UAAiCyB,GAF5D,cAEUG,EAFV,yBAGWA,EAASC,MAHpB,wCAKyBV,IAAjB,KAAIS,SALZ,0CAMaF,EAAgBlB,IAN7B,iCAQWkB,EAAgB,KAAIE,SAASC,KAAKX,QAR7C,yDAFuC,yDAenCY,EAAYC,YAAY,CAC5BC,KAAM,OACNC,aAvBmB,CACnBC,YAAY,EACZC,iBAAiB,EACjBC,SAAU,MAqBVC,SAAU,CACRC,oBAAqB,SAAAtB,GACnB,IAAMd,EAAQqC,aAAaC,QAAQ,SAC7BJ,EAAWG,aAAaC,QAAQ,YAClCtC,GAASkC,IACXnC,EAAsBC,GACtBc,EAAMoB,SAAWK,KAAKC,MAAMN,GAC5BpB,EAAMmB,iBAAkB,GAE1BnB,EAAMkB,YAAa,CACpB,EACDS,eAAgB,SAAC3B,EAAOK,GACtBL,EAAMoB,SAAWf,EAAOC,QACxBiB,aAAaK,QAAQ,WAAYH,KAAKI,UAAUxB,EAAOC,SACxD,EACDwB,WAAY,SAAA9B,GACVA,EAAMmB,iBAAkB,EACxBI,aAAaQ,WAAW,SACxB9C,GAAsB,GACtB+C,GAAQC,KAAK,SACd,GAEHC,eAAa,mBACV3B,EAAU4B,QAAUpC,GADV,cAEVQ,EAAU6B,WAAY,SAACpC,EAAOK,GAC7BL,EAAMC,SAAU,EAChBD,EAAMmB,iBAAkB,EACxBnB,EAAMoB,SAAWf,EAAOC,QAAQ+B,UAChCd,aAAaK,QAAQ,QAASvB,EAAOC,QAAQpB,OAC7CqC,aAAaK,QAAQ,WAAYH,KAAKI,UAAUxB,EAAOC,QAAQ+B,YAC/DpD,EAAsBoB,EAAOC,QAAQpB,MACtC,IATU,cAUVqB,EAAU+B,SAAWlC,GAVX,KAcAU,IAAf,QACO,EAIHA,EAAUyB,QAHZT,EADK,EACLA,WACAR,EAFK,EAELA,oB,GAFK,EAGLK,e,wBClDIa,EAAYC,YAAW,CAC3BC,KAAM,CACJC,WAAY,IAEdC,UAAW,CACTC,SAAU,EACVC,OAAQ,YAiHGC,EA7GD,WACZ,IAAMC,EAAUR,IACVS,EAAWC,cAEXC,EAAYC,aAAY,SAACpD,GAAD,OAAWA,EAAMqD,IAAjB,IAE9B,EAAwCC,mBAAS,CAC/CC,SAAU,GACVC,SAAU,KAFZ,mBAAO/C,EAAP,KAAqBgD,EAArB,KAIA,EAA4CH,oBAAS,GAArD,mBAAOI,EAAP,KAAuBC,EAAvB,KACA,EAAwCL,oBAAS,GAAjD,mBAAOM,EAAP,KAAqBC,EAArB,KAEMC,EAAW,SAACC,GAChBN,EAAgB,2BACXhD,GADU,kBAEZsD,EAAEC,OAAOhD,KAAO+C,EAAEC,OAAOC,QAE7B,EAEKC,EAAU,SAACH,GACfA,EAAEI,iBACGT,GACHC,GAAkB,GAGU,KAA1BlD,EAAa8C,UAA6C,KAA1B9C,EAAa+C,UAAoBL,EAAUlD,SAC7EgD,EAAS1C,EAAUE,GAEtB,EAEK2D,EAAa,SAACL,GACJ,UAAVA,EAAEM,KACJH,EAAQH,EAEX,EAED,GAAIZ,EAAUhC,gBACZ,OAAO,cAAC,IAAD,CAAUmD,GAAG,MAGtB,IAAIC,EAAgBb,GAA4C,KAA1BjD,EAAa8C,SAAkB9D,EAA0B,GAC3F+E,EAAgBd,GAA4C,KAA1BjD,EAAa+C,SAAkB5D,EAA0B,GAU/F,MARwB,KAApBuD,EAAUjD,QHpEe,mBGqEvBiD,EAAUjD,OAA6BiD,EAAUjD,QAAUT,EAC7D8E,EAAgBpB,EAAUjD,MACjBiD,EAAUjD,QAAUN,GHtEC,uBGsE0BuD,EAAUjD,QAClEsE,EAAgBrB,EAAUjD,QAK5B,cAACuE,EAAA,EAAD,CAAM7B,WAAS,EAAC8B,UAAU,SAASC,WAAW,SAASC,UAAW5B,EAAQN,KAA1E,SACE,cAAC+B,EAAA,EAAD,CAAMI,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,CAAMC,UAAW,EAAjB,SACE,cAACC,EAAA,EAAD,UACE,eAACR,EAAA,EAAD,CACE7B,WAAS,EAAC+B,WAAW,SAASD,UAAU,SAASE,UAAW5B,EAAQJ,UACpEsC,QAAS,EAFX,UAIE,cAACT,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACM,EAAA,EAAD,CACEnE,KAAK,WACLoE,YAAY,WACZnB,MAAOxD,EAAa8C,SACpBO,SAAUA,EACVM,WAAYA,EACZlE,MAAyB,KAAlBqE,EACPc,WAAYd,MAGhB,cAACE,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACM,EAAA,EAAD,CACEnE,KAAK,WACLoE,YAAY,WACZE,KAAM1B,EAAe,OAAS,WAC9BK,MAAOxD,EAAa+C,SACpBM,SAAUA,EACVM,WAAYA,EACZlE,MAAyB,KAAlBsE,EACPa,WAAYb,EACZe,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,CAAgBC,SAAS,MAAzB,SACE,cAACC,EAAA,EAAD,CACEzB,QAAS,kBAAML,GAAiBD,EAAvB,EADX,SAGGA,EAAe,cAACgC,EAAA,EAAD,IAAgB,cAACC,EAAA,EAAD,aAQ5C,cAACpB,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACiB,EAAA,EAAD,CAAQ5B,QAASA,EAAS6B,QAAQ,YAAlC,+BAUf,E,gDCpIKC,GAAiBC,YAAoB,CACzCC,aAAc,SAACC,EAAGC,GAChB,OAAID,EAAEE,GAAKD,EAAEC,IACH,EAENF,EAAEE,GAAKD,EAAEC,GACJ,EAEF,CACR,IAGGpF,GAAe+E,GAAeM,gBAAgB,CAClDC,SAAU,GACVC,QAAS,KAGEC,GAAejG,YAC1B,sBAD0C,iDAE1C,WAAOkG,EAAP,6FAAiBhG,EAAjB,EAAiBA,gBAAjB,kBAE2BvB,IAAMwB,KAAN,UAAc3B,EAAd,YAAmC0H,GAF9D,cAEU9F,EAFV,yBAGWA,EAASC,MAHpB,wCAKyBV,IAAjB,KAAIS,SALZ,0CAMaF,EAAgBlB,IAN7B,iCAQWkB,EAAgB,KAAIE,SAASC,KAAKX,QAR7C,yDAF0C,yDAe/ByG,GAAYnG,YACvB,mBADuC,iDAEvC,WAAOoG,EAAP,qGACE3D,EADF,EACEA,SACA4D,EAFF,EAEEA,SACAnG,EAHF,EAGEA,gBAHF,kBAM2BvB,IAAM2H,IAAN,UAAa9H,EAAb,oBAAkC4H,IAN7D,cAMUhG,EANV,OAOUZ,EAAQ6G,IAEG,KADXE,EAAWnG,EAASC,KAAKmG,mBACRhH,EAAMiH,QAAQC,IAAIC,SAASJ,IAAW9D,EAAS0D,GAAUI,IAChFnG,EAASC,KAAKuG,cAAcC,SAAQ,SAAAX,GAC7B1G,EAAMiH,QAAQC,IAAIC,SAAST,EAAOL,KAAKpD,EAAS0D,GAAUD,EAAOL,IACvE,IAZL,kBAaWzF,EAASC,MAbpB,0CAeyBV,IAAjB,KAAIS,SAfZ,0CAgBaF,EAAgBlB,IAhB7B,iCAkBWkB,EAAgB,KAAIE,SAASC,KAAKX,QAlB7C,0DAFuC,yDAyB5BoH,GAAe9G,YAC1B,sBAD0C,iDAE1C,WAAOkG,EAAP,6FAAiBhG,EAAjB,EAAiBA,gBAAjB,kBAE2BvB,IAAMoI,IAAN,UAAavI,EAAb,oBAAkC0H,EAAOL,IAAMK,GAF1E,cAEU9F,EAFV,yBAGWA,EAASC,MAHpB,wCAKyBV,IAAjB,KAAIS,SALZ,0CAMaF,EAAgBlB,IAN7B,iCAQWkB,EAAgB,KAAIE,SAASC,KAAKX,QAR7C,yDAF0C,yDAe/BsH,GAAehH,YAC1B,sBAD0C,iDAE1C,WAAO0G,EAAP,2FAAcxG,EAAd,EAAcA,gBAAd,kBAEUvB,IAAMsI,OAAN,UAAgBzI,EAAhB,oBAAqCkI,EAAIb,KAFnD,gCAGWa,GAHX,wCAKyB/G,IAAjB,KAAIS,SALZ,0CAMaF,EAAgBlB,IAN7B,iCAQWkB,EAAgB,KAAIE,SAASC,KAAKX,QAR7C,yDAF0C,yDAe/BwH,GAAalH,YACxB,kBADwC,iDAExC,gHACEmH,EADF,EACEA,KACA9G,EAFF,EAEEA,KACGH,EAHL,EAGKA,gBAHL,kBAK2BvB,IAAMwB,KAAN,UAAc3B,EAAd,UAAiC2I,GAL5D,cAKU/G,EALV,QAMUgH,EAAW,IAAIC,UACZC,OAAO,OAAQjH,GAP5B,UAQU1B,IAAMoI,IAAN,UAAavI,EAAb,sBAAoC4B,EAASC,KAAKwF,IAAMuB,EAAU,CACtEvI,QAAS,CACP,eAAgB,yBAVxB,iCAaWuB,EAASC,MAbpB,0CAeyBV,IAAjB,KAAIS,SAfZ,0CAgBaF,EAAgBlB,IAhB7B,iCAkBWkB,EAAgB,KAAIE,SAASC,KAAKX,QAlB7C,0DAFwC,yDAyB7B6H,GAAUvH,YACrB,eADqC,iDAErC,WAAOwH,EAAP,6FAAiBtH,EAAjB,EAAiBA,gBAAjB,kBAE2BvB,IAAM,CAC3B8I,OAAQ,MACRC,IAAI,GAAD,OAAKlJ,EAAL,sBAA4BgJ,EAAO3B,IACtC8B,aAAc,SALpB,cAEUvH,EAFV,OAOIwH,KAAaxH,EAASC,KAAMmH,EAAOhH,MAPvC,kBAQW,MARX,wCAUyBb,IAAjB,KAAIS,SAVZ,0CAWaF,EAAgBlB,IAX7B,iCAaWkB,EAAgB,KAAIE,SAASC,KAAKX,QAb7C,yDAFqC,yDAoB1BmI,GAAa7H,YACxB,kBADwC,iDAExC,WAAOmH,EAAP,6FAAejH,EAAf,EAAeA,gBAAf,SAEI4H,QAAQC,IAAIZ,GAFhB,SAG2BxI,IAAMoI,IAAN,UAAavI,EAAb,kBAAgC2I,EAAKtB,IAAMsB,GAHtE,cAGU/G,EAHV,yBAIWA,EAASC,MAJpB,wCAMyBV,IAAjB,KAAIS,SANZ,0CAOaF,EAAgBlB,IAP7B,iCASWkB,EAAgB,KAAIE,SAASC,KAAKX,QAT7C,yDAFwC,yDAgB7BsI,GAAahI,YACxB,kBADwC,iDAExC,WAAO0G,EAAP,2FAAcxG,EAAd,EAAcA,gBAAd,kBAEUvB,IAAMsI,OAAN,UAAgBzI,EAAhB,kBAAmCkI,EAAIb,KAFjD,gCAGWa,GAHX,wCAKyB/G,IAAjB,KAAIS,SALZ,0CAMaF,EAAgBlB,IAN7B,iCAQWkB,EAAgB,KAAIE,SAASC,KAAKX,QAR7C,yDAFwC,yDAepCuI,GAAY,SAACzI,EAAOgI,GACxB,GAA6B,IAAzBhI,EAAMwG,QAAQkC,OAAlB,CASA,IAJA,IAAMC,EAAYC,KAAKlH,MAAMsG,EAAOa,YAChCC,EAAI,EACJC,EAAI/I,EAAMwG,QAAQkC,OAAS,EAC3BM,EAAIC,UAAUH,EAAIC,GAAK,GACpBD,EAAIC,GAAG,CACZ,IAAMG,EAAcN,KAAKlH,MAAM1B,EAAMwG,QAAQwC,GAAGH,YAChD,GAAIF,IAAcO,EAAa,MAE/BP,EAAYO,EAAcH,EAAIC,EAAI,EAAIF,EAAIE,EAAI,EAE9CA,EAAIC,UAAUH,EAAIC,GAAK,EACxB,CAED/I,EAAMwG,QAAQ2C,OAAOP,KAAKlH,MAAM1B,EAAMwG,QAAQwC,GAAGH,YAAcF,EAAYK,EAAIA,EAAI,EAAG,EAAGhB,GACzF,IAAK,IAAIoB,EAAIJ,EAAGI,EAAIpJ,EAAMwG,QAAQkC,OAAQU,IACxC,GAAIpJ,EAAMwG,QAAQ4C,GAAG/C,KAAO2B,EAAO3B,SAA8BlG,IAAxBH,EAAMwG,QAAQ6C,QAAwBrB,EAAOqB,aAAUlJ,EAAW,CACzGH,EAAMwG,QAAQ2C,OAAOC,EAAG,GACxB,KACD,CApBF,MAFCpJ,EAAMwG,QAAQvE,KAAK+F,EAwBtB,EAEKsB,GAAevI,YAAY,CAC/BC,KAAM,UACNC,gBACAI,SAAU,CACRkI,YAAa,SAAAvJ,GACXgG,GAAewD,UAAUxJ,GACzBA,EAAME,MAAQ,IACf,EACDuJ,eAAgB,SAACzJ,EAAOK,GACtBL,EAAMuG,SAAWlG,EAAOC,OACzB,EACDqG,UAAWA,IAEbzE,eAAa,mBACVuE,GAAatE,QAAUpC,GADb,cAEV0G,GAAarE,WAAY,SAACpC,EAAOK,GAChCL,EAAMC,SAAU,EAChB+F,GAAe0D,UAAU1J,EAAOK,EAAOC,SACvCN,EAAM2J,SAAStJ,EAAOC,QAAQ0G,kBAAkBI,cAAcnF,KAAK5B,EAAOC,QAC3E,IANU,cAOVmG,GAAanE,SAAWlC,GAPd,cAQVuG,GAAUxE,QAAUpC,GARV,cASV4G,GAAUvE,WAAY,SAACpC,EAAOK,GAC7BL,EAAMC,SAAU,EAChB,IAAMyG,EAASrG,EAAOC,QACtB0F,GAAe0D,UAAU1J,EAAO0G,GAEhC,IAAMkD,EAAYhB,KAAKiB,MAAQ,MAE3BjB,KAAKlH,MAAMgF,EAAOmC,YAAce,GAClCnB,GAAUzI,EAAO0G,GAGnBA,EAAO2C,MAAMhC,SAAQ,SAAAM,GACfiB,KAAKlH,MAAMiG,EAAKkB,YAAce,GAChCnB,GAAUzI,EAAO2H,EAEpB,GACF,IAzBU,cA0BVhB,GAAUrE,SAAWlC,GA1BX,cA2BVkH,GAAanF,QAAUpC,GA3Bb,cA4BVuH,GAAalF,WAAY,SAACpC,EAAOK,GAChCL,EAAMC,SAAU,EAChB,IAAM8G,EAAW1G,EAAOC,QAAQ0G,iBAChC,GAAiB,IAAbD,EAAJ,CAGA,IAAM+C,EAAe9J,EAAM2J,SAAS5C,GACpC+C,EAAa1C,cAAgB0C,EAAa1C,cAAc2C,QAAO,SAAArD,GAAM,OAAIA,EAAOL,KAAOhG,EAAOC,QAAQ+F,EAAjC,IACrEyD,EAAa1C,cAAcnF,KAAK5B,EAAOC,SAEvC,IAAMoG,EAAS1G,EAAM2J,SAAStJ,EAAOC,QAAQ+F,SAC9BlG,IAAXuG,IAGJrG,EAAOC,QAAQ8G,cAAgBV,EAAOU,cACtC/G,EAAOC,QAAQ+I,MAAQ3C,EAAO2C,MAC9BrD,GAAegE,UAAUhK,EAAOK,EAAOC,SAXtC,CAYF,IA7CU,cA8CVgH,GAAahF,SAAWlC,GA9Cd,cA+CVoH,GAAarF,QAAUpC,GA/Cb,cAgDVyH,GAAapF,WAAY,SAACpC,EAAOK,GAChCL,EAAMC,SAAU,EAChB,IAAMgK,EAASjK,EAAM2J,SAAStJ,EAAOC,QAAQ4J,gBAC7CD,EAAO7C,cAAgB6C,EAAO7C,cAAc2C,QAAO,SAAAI,GAAK,OAAIA,EAAM9D,KAAOhG,EAAOC,QAAQ+F,EAAhC,IACxDL,GAAeoE,UAAUpK,EAAOK,EAAOC,QAAQ+F,GAChD,IArDU,cAsDVmB,GAAalF,SAAWlC,GAtDd,cAuDVsH,GAAWvF,QAAUpC,GAvDX,cAwDV2H,GAAWtF,WAAY,SAACpC,EAAOK,GAC9BL,EAAMC,SAAU,EAChB,IAAMyG,EAAS1G,EAAM2J,SAAStJ,EAAOC,QAAQ+J,WAC7C3D,EAAO2C,MAAMpH,KAAK5B,EAAOC,SACzB0F,GAAegE,UAAUhK,EAAO0G,EACjC,IA7DU,cA8DVgB,GAAWpF,SAAWlC,GA9DZ,cA+DV2H,GAAQ5F,QAAUpC,GA/DR,cAgEVgI,GAAQ3F,WAAY,SAAApC,GACnBA,EAAMC,SAAU,CACjB,IAlEU,cAmEV8H,GAAQzF,SAAWlC,GAnET,cAoEViI,GAAWlG,QAAUpC,GApEX,cAqEVsI,GAAWjG,WAAY,SAACpC,EAAOK,GAC9BL,EAAMC,SAAU,EAChB,IAAM2G,EAAWvG,EAAOC,QAAQ+J,UAC1B3D,EAAS1G,EAAM2J,SAAS/C,GAC9BF,EAAO2C,MAAQ3C,EAAO2C,MAAMU,QAAO,SAAApC,GAAI,OAAIA,EAAKtB,KAAOhG,EAAOC,QAAQ+F,EAA/B,IACvCK,EAAO2C,MAAMpH,KAAK5B,EAAOC,QAC1B,IA3EU,cA4EV+H,GAAW/F,SAAWlC,GA5EZ,cA6EVoI,GAAWrG,QAAUpC,GA7EX,cA8EVyI,GAAWpG,WAAY,SAACpC,EAAOK,GAC9BL,EAAMC,SAAU,EAChB,IAAMyG,EAAS1G,EAAM2J,SAAStJ,EAAOC,QAAQsG,UAC7CF,EAAO2C,MAAQ3C,EAAO2C,MAAMU,QAAO,SAAApC,GAAI,OAAIA,EAAKtB,KAAOhG,EAAOC,QAAQ+F,EAA/B,GACxC,IAlFU,cAmFVmC,GAAWlG,SAAWlC,GAnFZ,KAuFR,GAGHkJ,GAAa/G,QAFfgH,GADK,GACLA,YACAE,GAFK,GAELA,eAEaH,MAAf,QAE2BgB,GAAqBtE,GAAeuE,cAAa,SAAAvK,GAAK,OAAIA,EAAMiH,OAAV,IAAlEuD,W,qEC1STC,GAAexE,YAAoB,CACvCC,aAAc,SAACC,EAAGC,GAChB,OAAID,EAAEE,GAAKD,EAAEC,IACH,EAENF,EAAEE,GAAKD,EAAEC,GACJ,EAEF,CACR,IAGGpF,GAAewJ,GAAanE,gBAAgB,CAChDoE,YAAY,IAGDC,GAAanK,YACxB,kBADwC,iDAExC,WAAOoK,EAAP,6FACElK,EADF,EACEA,gBADF,kBAI2BvB,IAAMwB,KAAN,UAAc3B,EAAd,UAAiC4L,GAJ5D,cAIUhK,EAJV,yBAKWA,EAASC,MALpB,wCAOyBV,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAFwC,yDAiB7B2K,GAAWrK,YACtB,gBADsC,iDAEtC,WAAOsK,EAAP,6FACEpK,EADF,EACEA,gBADF,kBAI2BvB,IAAM2H,IAAN,UAAa9H,EAAb,WAJ3B,cAIU4B,EAJV,yBAKWA,EAASC,MALpB,wCAOyBV,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAFsC,yDAiB3B6K,GAAUvK,YACrB,eADqC,iDAErC,WAAOwK,EAAP,6FACEtK,EADF,EACEA,gBADF,kBAI2BvB,IAAM2H,IAAN,UAAa9H,EAAb,kBAAgCgM,IAJ3D,cAIUpK,EAJV,yBAKWA,EAASC,MALpB,wCAOyBV,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAFqC,yDAiB1B+K,GAAazK,YACxB,kBADwC,iDAExC,WAAOoK,EAAP,6FACElK,EADF,EACEA,gBADF,kBAI2BvB,IAAMoI,IAAN,UAAavI,EAAb,kBAAgC4L,EAAKvE,IAAMuE,GAJtE,cAIUhK,EAJV,yBAKWA,EAASC,MALpB,wCAOyBV,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAFwC,yDAiB7BgL,GAAa1K,YACxB,kBADwC,iDAExC,WAAOwK,EAAP,2FACEtK,EADF,EACEA,gBADF,kBAIUvB,IAAMsI,OAAN,UAAgBzI,EAAhB,kBAAmCgM,IAJ7C,gCAKWA,GALX,wCAOyB7K,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAFwC,yDAiB7BiL,GAAc3K,YACzB,mBADyC,iDAEzC,8GACEwK,EADF,EACEA,OACAI,EAFF,EAEEA,SAEA1K,EAJF,EAIEA,gBAJF,kBAO2BvB,IAAMwB,KAAN,UAAc3B,EAAd,6BAA4CgM,GAAUI,GAPjF,cAOUxK,EAPV,yBAQWA,EAASC,MARpB,wCAUyBV,IAAjB,KAAIS,SAVZ,0CAWaF,EAAgBlB,IAX7B,iCAaWkB,EAAgB,KAAIE,SAASC,KAAKX,QAb7C,yDAFyC,yDAoB9BmL,GAAiB7K,YAC5B,sBAD4C,iDAE5C,8GACEwK,EADF,EACEA,OACAI,EAFF,EAEEA,SAEA1K,EAJF,EAIEA,gBAJF,kBAO2BvB,IAAMsI,OAAN,UAAgBzI,EAAhB,6BAA8CgM,GAAU,CAAEnK,KAAMuK,IAP3F,cAOUxK,EAPV,yBAQWA,EAASC,MARpB,wCAUyBV,IAAjB,KAAIS,SAVZ,0CAWaF,EAAgBlB,IAX7B,iCAaWkB,EAAgB,KAAIE,SAASC,KAAKX,QAb7C,yDAF4C,yDAoBxCoL,GAAavK,YAAY,CAC7BC,KAAM,QACNC,gBACAI,SAAU,CACRkK,WAAY,SAAAvL,GACVyK,GAAajB,UAAUxJ,GACvBA,EAAME,MAAQ,KACdF,EAAM0K,YAAa,CACpB,GAEHxI,eAAa,mBACVyI,GAAWxI,QAAUpC,GADX,cAEV4K,GAAWvI,WAAY,SAACpC,EAAOK,GAC9BL,EAAMC,SAAU,EAChBwK,GAAaf,UAAU1J,EAAOK,EAAOC,QACtC,IALU,cAMVqK,GAAWrI,SAAWlC,GANZ,cAOVyK,GAAS1I,QAAUpC,GAPT,cAQV8K,GAASzI,WAAY,SAACpC,EAAOK,GAC5BL,EAAMC,SAAU,EAChBD,EAAM0K,YAAa,EACnBD,GAAae,WAAWxL,EAAOK,EAAOC,QACvC,IAZU,cAaVuK,GAASvI,SAAWlC,GAbV,cAcV2K,GAAQ5I,QAAUpC,GAdR,cAeVgL,GAAQ3I,WAAY,SAACpC,EAAOK,GAC3BL,EAAMC,SAAU,EAChBwK,GAAaf,UAAU1J,EAAOK,EAAOC,QACtC,IAlBU,cAmBVyK,GAAQzI,SAAWlC,GAnBT,cAoBV6K,GAAW9I,QAAUpC,GApBX,cAqBVkL,GAAW7I,WAAY,SAACpC,EAAOK,GAC9BL,EAAMC,SAAU,EAChBwK,GAAaf,UAAU1J,EAAOK,EAAOC,QACtC,IAxBU,cAyBV2K,GAAW3I,SAAWlC,GAzBZ,cA0BV8K,GAAW/I,QAAUpC,GA1BX,cA2BVmL,GAAW9I,WAAY,SAACpC,EAAOK,GAC9BL,EAAMC,SAAU,EAChBwK,GAAaL,UAAUpK,EAAOK,EAAOC,QACtC,IA9BU,cA+BV4K,GAAW5I,SAAWlC,GA/BZ,cAgCV+K,GAAYhJ,QAAUpC,GAhCZ,cAiCVoL,GAAY/I,WAAY,SAACpC,EAAOK,GAC/BL,EAAMC,SAAU,EAChBwK,GAAaf,UAAU1J,EAAOK,EAAOC,QACtC,IApCU,cAqCV6K,GAAY7I,SAAWlC,GArCb,cAsCViL,GAAelJ,QAAUpC,GAtCf,cAuCVsL,GAAejJ,WAAY,SAACpC,EAAOK,GAClCL,EAAMC,SAAU,EAChBwK,GAAaf,UAAU1J,EAAOK,EAAOC,QACtC,IA1CU,cA2CV+K,GAAe/I,SAAWlC,GA3ChB,KA+CAmL,GAAeD,GAAW/I,QAA1BgJ,WACAD,MAAf,QAGcG,GACVhB,GAAaF,cAAa,SAAAvK,GAAK,OAAIA,EAAM0L,KAAV,IADjClB,WCxMIhI,GAAYC,YAAW,CAC3BkJ,SAAU,CACRC,QAAS,YAIPC,GAAO,CAAC,SAAU,SAAU,UAAW,YAAa,WAAY,SAAU,YAEnEC,GAAU,SAACC,GACtB,IAAMC,EAAO,IAAIpD,KAAKA,KAAKlH,MAAMqK,IAC3BE,EAAOD,EAAKE,aAClB,OAAOL,GAAKG,EAAKG,UAAY,IAAMH,EAAKI,WAAa,KAAOH,EAAO,EAAIA,EAAO,IAAMA,EACrF,EAEYI,GAAa,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACrBrJ,EAAWC,cACXF,EAAUR,KAEVoI,EAAOxH,aAAY,SAAApD,GAAK,OAAIyL,GAAezL,EAAOsM,EAAOC,eAAjC,IACxBC,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IAQpC,OANAe,qBAAU,WACJ7B,GAAQ4B,EAAWvM,SAEvBgD,EAAS8H,GAAQuB,EAAOC,gBACzB,GAAE,CAAC3B,EAAM4B,IAGR,eAACE,GAAA,EAAD,CAEEC,QAAM,EACNC,UAAWC,KACXvI,GAAI,kBAAuCnE,IAAxBmM,EAAOQ,aAA6BR,EAAOjG,GAAKiG,EAAOjC,WAJ5E,UAME,cAAC0C,GAAA,EAAD,eAC2B5M,IAAxBmM,EAAOQ,aAA6B,cAAC,KAAD,IAAY,cAACE,GAAA,EAAD,MAEnD,cAACC,GAAA,EAAD,CAAcrI,UAAW5B,EAAQ2I,SAAjC,SAA4CW,EAAOtL,OACnD,eAACiM,GAAA,EAAD,CAAcrI,UAAW5B,EAAQ2I,SAAjC,wBACcf,EAAOA,EAAKrH,SAAW,GADrC,OAC6CuI,GAAQQ,EAAOzD,iBAVvDyD,EAAOjG,GAcjB,EC1CK7D,GAAYC,YAAW,CAC3BC,KAAM,CACJwK,MAAO,OACPC,cAAe,SACfC,QAAS,eAEXT,OAAQ,CACNU,SAAU,UACVC,cAAe,QAEjBC,YAAa,CACXC,MAAO,QAETC,YAAa,CACXL,QAAS,OACTvK,SAAU,EACVqK,MAAO,OACPQ,YAAa,WAEfC,sBAAuB,CACrBP,QAAS,OACTvK,SAAU,EACVqK,MAAO,OACPQ,YAAa,GAEfE,oBAAqB,CACnBC,aAAc,KAILC,GAAmB,SAAC,GAG1B,IAFLzH,EAEI,EAFJA,GACA0H,EACI,EADJA,SAEM/K,EAAUR,KACVS,EAAWC,cAEX8K,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IACtC,EAA0C3D,mBAAS,IAAnD,mBAAO2K,EAAP,KAAsBC,EAAtB,KAqCAzB,qBAAU,WACR,IAAIuB,EAAa/N,QAAjB,CAIA,IAFA,IAAIkO,EAAY9H,EACVY,EAAU,GACK,IAAdkH,GAAiB,CACtB,IAAKH,EAAa9G,IAAIC,SAASgH,GAE7B,YADAlL,EAAS0D,GAAUwH,IAIrBlH,EAAQhF,KAAK+L,EAAarE,SAASwE,IACnCA,EAAYH,EAAarE,SAASwE,GAAWnH,gBAC9C,CAEDkH,EAAiBjH,EAde,CAejC,GAAE,CAACZ,EAAI2H,IAER,IA8CA,EAAoC1K,mBAAS,MAA7C,mBAAO8K,EAAP,KAAmBC,EAAnB,KACM7B,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IAYpC,OAXAe,qBAAU,WACRnE,QAAQC,IAAI0F,EAAc,IACtBG,GAAc5B,EAAWvM,UAAYgO,EAAc,KAEnDzB,EAAWtF,IAAIC,SAAS8G,EAAc,GAAG1B,gBAC3C8B,EAAc7B,EAAW7C,SAASsE,EAAc,GAAG1B,iBAGrDtJ,EAAS8H,GAAQkD,EAAc,GAAG1B,iBACnC,GAAE,CAAC6B,EAAYH,EAAezB,IAE3BwB,EAAa/N,SAAoC,IAAzBgO,EAAcvF,OACjC,GAIP,eAAC3D,EAAA,EAAD,CAAMuJ,QAAM,EAACtJ,UAAW,EAAGJ,UAAW5B,EAAQN,KAA9C,UACE,cAACuC,EAAA,EAAD,CAAaL,UAAW5B,EAAQyK,YAAhC,SAjEoB,WAEtB,IADA,IAAMc,EAAyB,GACtBnF,EAAI,EAAGA,GAAK6E,EAAcvF,OAAS,EAAI,EAAI,MAC9CU,GAAK6E,EAAcvF,QAD+BU,IAG5C,IAANA,GACFmF,EAAuBtM,KACrB,cAACuM,EAAA,EAAD,CAAYzI,QAAQ,KAApB,gBAMJwI,EAAuBtM,KACrB,cAAC6D,EAAA,EAAD,CACElB,UAAW5B,EAAQ2J,OACnBC,UAAWC,KACXvI,GAAI,YAAc2J,EAAc7E,GAAG/C,GACnCoI,SAAgB,IAANrF,EACVsF,MAAO,CAAEC,MAAO,SALlB,SAOGV,EAAc7E,GAAGpI,QAsBxB,OAjBIiN,EAAcvF,OAAS,IACzB6F,EAAuBtM,KACrB,cAACuM,EAAA,EAAD,CAAYzI,QAAQ,KAApB,sBAIFwI,EAAuBtM,KACrB,cAAC6D,EAAA,EAAD,CACElB,UAAW5B,EAAQ2J,OACnBC,UAAWC,KACXvI,GAAI,YAAc2J,EAAcA,EAAcvF,OAAS,GAAGrC,GAH5D,SAKG4H,EAAcA,EAAcvF,OAAS,GAAG1H,SAKxCuN,EAAuBK,SAC/B,CAsBMC,KAEH,cAAC5J,EAAA,EAAD,CAAaL,UAAW5B,EAAQuK,YAAhC,SACE,eAACzH,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAAS,kBAAM6J,EAASK,EAAf,EAA5C,4BAEMA,EAAaA,EAAW7K,SAAW,GAFzC,OAEiDuI,GAAQmC,EAAc,GAAGpF,iBAG5E,cAAC5D,EAAA,EAAD,CAAaL,UAAW5B,EAAQuK,YAAhC,SACE,eAACuB,GAAA,EAAD,WACE,cAAChJ,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAjIpB,WACrBjB,EAASwG,GAAe,CACtBnE,KAAM,SACNoB,QAAQ,EACRL,GAAI4H,EAAc,GAAG5H,KAExB,EA2HO,iCAGA,cAACP,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAzGtB,WACnBjB,EAASwG,GAAe,CACtBnE,KAAM,SACNoB,QAAQ,EACRL,GAAI4H,EAAc,GAAG5H,KAExB,EAmGO,yBAGA,cAACP,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QA/HtB,WACnBjB,EAASwG,GAAe,CACtBnE,KAAM,OACNoB,QAAQ,EACRsB,OAAQiG,EAAc,GAAG5H,KAE5B,EAyHO,yBAES,IAAPA,EACI,cAACP,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QA1H1B,WACrBjB,EAASwG,GAAe,CACtBnE,KAAM,SACNoB,QAAQ,EACRQ,IAAK,CACHb,GAAI4H,EAAc,GAAG5H,GACrB6D,eAAgB+D,EAAc,GAAG5H,GAAGW,oBAGzC,EAiHa,2BAGA,UAMf,E,UClLKxE,GAAYC,YAAW,CAC3BC,KAAM,CACJyK,cAAe,SACfC,QAAS,cACTF,MAAO,QAET6B,eAAgB,CACdrB,YAAa,MACbN,QAAS,OACTvK,SAAU,EACVqK,MAAO,QAETK,YAAa,CACXC,MAAO,QAETb,OAAQ,CACNW,cAAe,OACfD,SAAU,UACVH,MAAO,OACP8B,WAAY,UAEdC,WAAY,CACV5B,SAAU,aAID6B,GAAY,SAAC,GAInB,IAHLxI,EAGI,EAHJA,OACA7F,EAEI,EAFJA,KACAkN,EACI,EADJA,SAEM9K,EAAWC,cACXF,EAAUR,KAEVwL,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IAqDhCmH,EAAahL,aAAY,SAAApD,GAAK,OAAIyL,GAAezL,EAAOa,EAAK0L,eAA/B,IAC9BC,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IAOpC,OANAe,qBAAU,WACJ2B,GAAc5B,EAAWvM,SAE7BgD,EAAS8H,GAAQlK,EAAK0L,gBACvB,GAAE,CAAC6B,EAAYvN,IAGd,eAACkE,EAAA,EAAD,CAAMgB,QAAQ,WAAWuI,QAAM,EAAC1J,UAAW5B,EAAQN,KAAnD,UACE,cAACyM,GAAA,EAAD,CACEvK,UAAW5B,EAAQ+L,eACnBnC,UAAWlG,EAASmG,UAAO1M,EAC3BmE,GAAIoC,EAAS,YAAc7F,EAAKwF,QAAKlG,EACrC+D,QAAUwC,OAAqBvG,EAjEnB,WAChB8C,EAAS8E,GAAQlH,GAClB,EA2DG,SAME,eAAC4D,EAAA,EAAD,CAAM7B,WAAS,EAACsC,QAAS,EAAGN,UAAW5B,EAAQoM,KAA/C,UACE,cAAC3K,EAAA,EAAD,CAAMI,MAAI,EAAV,SACG6B,EAAS,cAAC,KAAD,IAAY7F,EAAKwO,aAAe,cAACrC,GAAA,EAAD,IAAqB,cAACnH,EAAA,EAAD,MAEjE,cAACpB,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC2J,EAAA,EAAD,CAAY5J,UAAW5B,EAAQiM,WAA/B,SACGpO,EAAKG,cAKd,cAACiE,EAAA,EAAD,CAAaL,UAAW5B,EAAQuK,YAAhC,SACE,eAACzH,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAAS,kBAAM6J,EAASK,EAAf,EAA5C,4BACkBA,EAAaA,EAAW7K,SAAW,GADrD,OAC6DuI,GAAQjL,EAAKgI,iBAG5E,cAAC5D,EAAA,EAAD,CAAaL,UAAW5B,EAAQuK,YAAhC,SACE,eAACuB,GAAA,EAAD,WAEKpI,GAAiE,IAAvDsH,EAAarE,SAAS9I,EAAKwJ,WAAWiF,aAK7C,GAHA,eAACxJ,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QApF/B,WACZwC,GAAiE,IAAvDsH,EAAarE,SAAS9I,EAAKwJ,WAAWiF,cAEpDrM,EAASoF,GAAW,CAClBhC,GAAIxF,EAAKwF,GACTgJ,cAAexO,EAAKwO,eAEvB,EA6Ea,UACGxO,EAAKwO,aAAe,MAAQ,IAD/B,iBAKN,eAACvJ,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAhF5B,WAEXjB,EAASwG,GADP/C,EACsB,CACtBpB,KAAM,OACNoB,QAAQ,EACRsB,OAAQnH,GAIY,CACtByE,KAAM,OACNoB,QAAQ,EACRsB,OAAQnH,IAEX,EAkEO,kBACQ6F,EAAS,SAAW,UAE5B,eAACZ,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAnE1B,WAEbjB,EAASwG,GADP/C,EACsB,CACtBpB,KAAM,SACNoB,QAAQ,EACRQ,IAAK,CACHb,GAAIxF,EAAKwF,GACT6D,eAAgBrJ,EAAKmG,mBAKH,CACtB1B,KAAM,SACNoB,QAAQ,EACRQ,IAAK,CACHb,GAAIxF,EAAKwF,GACTO,SAAU/F,EAAKwJ,aAGpB,EA+CO,oBACU3D,EAAS,SAAW,iBAMvC,E,8BCzIKlE,GAAYC,YAAW,CAC3B8M,cAAe,CACbC,eAAgB,YAIPC,GAAa,WACxB,IAAMxM,EAAWC,cACXF,EAAUR,KAEVwL,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IAEtC,EAAwB3D,oBAAS,GAAjC,mBAAOoM,EAAP,KAAaC,EAAb,KACA,EAA8BrM,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KACA,EAAwBtM,mBAAS,IAAjC,mBAAOtC,EAAP,KAAa6O,EAAb,KACA,EAAkCvM,mBAAS,IAA3C,mBAAOwM,EAAP,KAAkBC,EAAlB,KACA,EAAgCzM,mBAAS,MAAzC,mBAAO0M,EAAP,KAAiBC,EAAjB,KAEMC,EAAU,WACdjN,EAASwG,GAAe,OACxBkG,GAAQ,EACT,EA6DDlD,qBAAU,WACJiD,GAAkC,OAA1B1B,EAAazH,UAIU,WAA/ByH,EAAazH,SAASjB,MAAoD,SAA/B0I,EAAazH,SAASjB,OAIlC,SAA/B0I,EAAazH,SAASjB,KACxBuK,EAAQ7B,EAAazH,SAASyB,OAAOhH,MAErC6O,EAAQ,IAGVF,GAAQ,GACRI,EAAa,IACd,GAAE,CAAC/B,IAEJvB,qBAAU,WACHiD,GAASzP,IAAW+N,EAAa/N,UAItC2P,GAAW,GAEP5B,EAAa9N,MACf6P,EAAa/B,EAAa9N,OAI5BgQ,IACD,IAOD,OACE,eAACC,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UACE,eAACE,GAAA,EAAD,WAEInQ,EACI,cAACoQ,GAAA,EAAD,IACA,GAEN,cAAClL,EAAA,EAAD,CACEmL,WAAS,EACTC,MAAM,OACNjL,KAAK,OACLpF,MAAqB,KAAd4P,EACPzK,WAAYyK,EACZ7L,MAAOjD,EACP8C,SAjHS,SAACC,GAChBA,EAAEI,iBACF0L,EAAQ9L,EAAEC,OAAOC,MAClB,OAkH+B,OAA1B+J,EAAazH,UAAsByH,EAAazH,SAASG,QAAyC,WAA/BsH,EAAazH,SAASjB,KAMrF,GAJA,cAACkL,GAAA,EAAD,UACE,uBAAOlL,KAAK,OAAOxB,SA3BV,SAACC,GACpBkM,EAAYlM,EAAEC,OAAOqF,MAAM,IAC3BwG,EAAQ9L,EAAEC,OAAOqF,MAAM,GAAGrI,KAC3B,MA6BG,eAACwP,GAAA,EAAD,CAAe5L,UAAW5B,EAAQuM,cAAlC,UACE,cAACzJ,EAAA,EAAD,CAAQ5B,QAzHE,WACd,GAAKwL,GAAkC,OAA1B1B,EAAazH,SAI1B,GAAa,KAATvF,EAKJ,QAAqCb,IAAjC6N,EAAazH,SAASyB,QAAwBhH,IAASgN,EAAazH,SAASyB,OAAOhH,KAAxF,CAMA,GADA4O,GAAW,GACwB,WAA/B5B,EAAazH,SAASjB,KACxB,OAAI0I,EAAazH,SAASG,YACxBzD,EAASwD,GAAa,CACpBzF,KAAMA,EACNgG,iBAAkBgH,EAAazH,SAASF,MAK3B,OAAb2J,GACFD,EAAa,sBACbH,GAAW,SAGb3M,EAASyE,GAAW,CAClBC,KAAM,CACJ3G,KAAMA,EACNqJ,UAAW2D,EAAazH,SAASF,IAEnCxF,KAAMmP,KAKNhC,EAAazH,SAASG,OACxBzD,EAASqE,GAAa,CACpBjB,GAAI2H,EAAazH,SAASyB,OAAO3B,GACjCrF,KAAMA,KAKViC,EAASoF,GAAW,CAClBhC,GAAI2H,EAAazH,SAASyB,OAAO3B,GACjCrF,KAAMA,IArCP,MAFC+O,EAAa,2BALbA,ETtC+B,uBSoFlC,EAqE+BtB,SAAUxO,EAApC,kBACA,cAAC6F,EAAA,EAAD,CAAQ5B,QAASgM,EAASvB,MAAM,YAAhC,yBAIP,E,oBCjKY8B,GAAe,WAC1B,IAAMxN,EAAWC,cAEX8K,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IAEtC,EAAwB3D,oBAAS,GAAjC,mBAAOoM,EAAP,KAAaC,EAAb,KACA,EAA8BrM,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KACA,EAA0BtM,mBAAS,IAAnC,mBAAOpD,EAAP,KAAcwQ,EAAd,KAEMR,EAAU,WACdjN,EAASwG,GAAe,OACxBkG,GAAQ,EACT,EAkCD,OAvBAlD,qBAAU,WACJiD,GAAkC,OAA1B1B,EAAazH,UAAoD,WAA/ByH,EAAazH,SAASjB,OAIpEqK,GAAQ,GACRe,EAAS,IACV,GAAE,CAAC1C,IAEJvB,qBAAU,WACHiD,GAASzP,IAAW+N,EAAa/N,UAItC2P,GAAW,GACP5B,EAAa9N,MACfwQ,EAAS1C,EAAa9N,OAIxBgQ,IACD,GAAE,CAAClC,IAGF,eAACmC,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UACE,eAACE,GAAA,EAAD,WAEInQ,EACI,cAACoQ,GAAA,EAAD,IACA,GAEN,eAACM,GAAA,EAAD,mDACkE,OAA1B3C,EAAazH,UAAqByH,EAAazH,SAASG,OAAS,SAAW,OADpH,OAIExG,EACI,cAAC0Q,GAAA,EAAD,UAAoB1Q,IACpB,MAGR,eAACsQ,GAAA,EAAD,WACE,eAAC1K,EAAA,EAAD,CAAQ5B,QAlDE,WACd0L,GAAW,GACP5B,EAAazH,SAASG,OACxBzD,EAASuE,GAAawG,EAAazH,SAASW,MAG9CjE,EAASuF,GAAWwF,EAAazH,SAASW,KAC3C,EA2CK,oBACoC,OAA1B8G,EAAazH,UAAqByH,EAAazH,SAASG,OAAS,SAAW,UAEtF,cAACZ,EAAA,EAAD,CAAQ5B,QAASgM,EAASvB,MAAM,YAAhC,yBAIP,EChFKnM,GAAYC,YAAW,CAC3BoO,UAAW,CACT,oCAAqC,CACnClC,MAAO,YAKAmC,GAAW,SAAC,GAAkB,IAAhB1P,EAAe,EAAfA,SACnB4B,EAAUR,KAEhB,OACE,eAACiC,EAAA,EAAD,CAAM7B,WAAS,EAAC+B,WAAW,SAASD,UAAU,SAASQ,QAAS,EAAhE,UACE,cAACT,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACM,EAAA,EAAD,CACEG,KAAK,OACLiL,MAAM,WACN9B,UAAQ,EACRxK,MAAO7C,EAASmC,SAChBqB,UAAW5B,EAAQ6N,cAGvB,cAACpM,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACM,EAAA,EAAD,CACEG,KAAK,OACLiL,MAAM,aACN9B,UAAQ,EACRxK,MAAO7C,EAAS2P,WAChBnM,UAAW5B,EAAQ6N,cAGvB,cAACpM,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACM,EAAA,EAAD,CACEG,KAAK,OACLiL,MAAM,YACN9B,UAAQ,EACRxK,MAAO7C,EAAS4P,UAChBpM,UAAW5B,EAAQ6N,gBAK5B,ECzCKrO,GAAYC,YAAW,CAC3BwO,cAAe,CACbC,SAAU,UAIDC,GAAiB,SAAC,GAIxB,IAHLzB,EAGI,EAHJA,KACAQ,EAEI,EAFJA,QACA9O,EACI,EADJA,SAEM4B,EAAUR,KAEhB,OACE,eAAC2N,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UACE,cAACE,GAAA,EAAD,CAAexL,UAAW5B,EAAQiO,cAAlC,SACE,cAAC,GAAD,CAAU7P,SAAUA,MAEtB,cAACoP,GAAA,EAAD,UACE,cAAC1K,EAAA,EAAD,CAAQ6I,MAAM,YAAYzK,QAASgM,EAAnC,uBAIP,ECfK1N,GAAYC,YAAW,CAC3B2M,KAAM,CACJxD,QAAS,UAIAwF,GAAS,WACpB,IAAMpO,EAAUR,KAEV6D,EAAOgL,cAAPhL,GACNA,EAAK4C,SAAS5C,GAEd,IAAM2H,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IAChCP,EAAStD,aAAY,SAAApD,GAAK,OAAIsK,GAAiBtK,EAAOqG,EAA5B,IAE1BpD,EAAWC,cAEjBuJ,qBAAU,WACHuB,EAAa9G,IAAIC,SAASd,IAAQ2H,EAAa/N,SAAY+N,EAAa9N,OAC3E+C,EAAS0D,GAAUN,GAEtB,GAAE,CAACA,EAAI2H,IAER,IAUA,EAAwC1K,oBAAS,GAAjD,mBAAOgO,EAAP,KAAqBC,EAArB,KACA,EAAgCjO,mBAAS,CACvCC,SAAU,GACVwN,WAAY,GACZC,UAAW,KAHb,mBAAO5P,EAAP,KAAiBoQ,EAAjB,KAKMC,EAAa,SAAA5Q,GACjB2Q,EAAY3Q,GACZ0Q,GAAgB,EACjB,EAsBKG,EAAkB,SAACvL,EAAGC,GAC1B,OAAIA,EAAEpF,KAAOmF,EAAEnF,MACL,EAENoF,EAAEpF,KAAOmF,EAAEnF,KACN,EAEF,CACR,EAEK2Q,EAA6B,WACjC,OACE,gCAEIjL,EAAOU,cAAcwK,QAClBC,KAAKH,GACLI,KAAI,SAAApL,GAAM,OACT,cAAC,GAAD,CAEE7F,KAAM6F,EACNA,QAAM,EACNqH,SAAU0D,GAHL/K,EAAOL,GAFL,IAUbK,EAAO2C,MAAMuI,QACVC,KAAKH,GACLI,KAAI,SAAAnK,GAAI,OACP,cAAC,GAAD,CAEE9G,KAAM8G,EACNoG,SAAU0D,GAFL9J,EAAKtB,GAFL,MAUlB,EAEK0L,Eb1GwB,ca0BxB/D,EAAa9N,MACR,iBAEJ8N,EAAa/N,cAAsBE,IAAXuG,EAGtB,GAFE,yDA6EX,MAAqB,KAAjBqL,EAEA,cAAChN,EAAA,EAAD,UACE,cAACiN,EAAA,EAAD,UACE,cAACvN,EAAA,EAAD,CAAM7B,WAAS,EAACqP,QAAQ,SAAxB,SACE,cAACxN,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC2J,EAAA,EAAD,CAAYzI,QAAQ,KAApB,SACGgM,YAUb,gCACE,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,CAAgBrC,KAAM4B,EAAcpB,QAAS,kBAAMqB,GAAgB,EAAtB,EAA8BnQ,SAAUA,IACrF,cAAC,GAAD,CAAkBiF,GAAIA,EAAI0H,SAAU0D,IAElCzD,EAAa/N,QACT,cAACoQ,GAAA,EAAD,IApF4B,IAAhC3J,EAAOU,cAAcsB,QAAwC,IAAxBhC,EAAO2C,MAAMX,QAAiBsF,EAAa/N,QAgB7E0R,IAdH,cAAClN,EAAA,EAAD,CAAM7B,WAAS,EAAC8B,UAAU,SAASC,WAAW,SAASC,UAAW5B,EAAQoM,KAA1E,SACE,cAAC3K,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,UACE,cAACiN,EAAA,EAAD,UACE,cAACxD,EAAA,EAAD,CAAYzI,QAAQ,KAApB,0DAmFf,E,oBC/IYmM,GAAS,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,gBACvB,OACE,8BACE,cAACC,GAAA,EAAD,CAAQ1M,SAAS,QAAQgJ,MAAO,CAAE2D,OAAQ,MAA1C,SACE,eAACC,EAAA,EAAD,WACE,cAAC3M,EAAA,EAAD,CAAY4M,KAAK,QAAQ5D,MAAM,UAAUzK,QAASiO,EAAlD,SACE,cAACK,GAAA,EAAD,MAEF,cAAChE,EAAA,EAAD,CAAYzI,QAAQ,KAAK4I,MAAM,UAA/B,0DAOT,E,iFCRY8D,GAAY,SAAC,GAGnB,IAFL/C,EAEI,EAFJA,KACAQ,EACI,EADJA,QAEMjN,EAAWC,cAEXC,EAAYC,aAAY,SAAApD,GAAK,OAAIA,EAAMqD,IAAV,IASnC,OACE,8BACE,eAACqP,GAAA,EAAD,CACEC,OAAO,OACPjD,KAAMA,EACNQ,QAASA,EACTxB,MAAO,CAAE2D,OAAQ,MAJnB,UAME,cAACC,EAAA,EAAD,IACA,eAACM,GAAA,EAAD,WACE,eAAClG,GAAA,EAAD,CAAUC,QAAM,EAAiBC,UAAWC,KAAMvI,GAAG,IAAIJ,QAASgM,EAAlE,UACE,cAACnD,GAAA,EAAD,UAAc,cAAC,KAAD,MACd,cAACE,GAAA,EAAD,CAAc4F,QAAQ,gBAFH,aAIrB,eAACnG,GAAA,EAAD,CAAUC,QAAM,EAAkBC,UAAWC,KAAMvI,GAAG,aAAaJ,QAASgM,EAA5E,UACE,cAACnD,GAAA,EAAD,UAAc,cAAC,KAAD,MACd,cAACE,GAAA,EAAD,CAAc4F,QAAQ,iBAFH,cAKnB1P,EAAUhC,iBAAmBgC,EAAU/B,SAAS0R,SAE5C,gCACE,eAACpG,GAAA,EAAD,CAAUC,QAAM,EAAoBC,UAAWC,KAAMvI,GAAG,SAASJ,QAASgM,EAA1E,UACE,cAACnD,GAAA,EAAD,UAAc,cAAC,KAAD,MACd,cAACE,GAAA,EAAD,CAAc4F,QAAQ,mBAFH,gBAIrB,eAACnG,GAAA,EAAD,CAAUC,QAAM,EAAyBC,UAAWC,KAAMvI,GAAG,cACnDJ,QAASgM,EADnB,UAEE,cAACnD,GAAA,EAAD,UAAc,cAAC,KAAD,MACd,cAACE,GAAA,EAAD,CAAc4F,QAAQ,wBAHH,wBAMvB,GAEN,eAACnG,GAAA,EAAD,CAAUC,QAAM,EAAczI,QAzCvB,WACbjB,EAASnB,KACTmB,EAASsG,MACTtG,EAASsI,MACT2E,GACD,EAoCO,UACE,cAACnD,GAAA,EAAD,UAAc,cAACgG,GAAA,EAAD,MACd,cAAC9F,GAAA,EAAD,CAAc4F,QAAQ,aAFH,iBAQ9B,E,yBChEYG,GAAe,SAAC,GAGtB,IAFMC,EAEP,EAFJrG,UACGsG,EACC,mBACE/P,EAAYC,aAAY,SAAApD,GAAK,OAAIA,EAAMqD,IAAV,IAEnC,OACE,cAAC,IAAD,2BACM6P,GADN,IAEEC,OAAQ,SAAAC,GACN,OAAKjQ,EAAUjC,WAGRiC,EAAUhC,gBAAkB,cAAC8R,EAAD,eAAeG,IAAY,cAAC,IAAD,CAAU9O,GAAG,WAFlE,EAGV,IAGN,E,0FCjBK9B,GAAYC,YAAW,CAC3BC,KAAM,CACJwK,MAAO,OACPC,cAAe,SACfqC,eAAgB,SAChBpC,QAAS,eAEXT,OAAQ,CACNU,SAAU,UACVC,cAAe,UAIN+F,GAAgB,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eACxBtQ,EAAUR,KAEhB,OACE,cAACuC,EAAA,EAAD,CAAMuJ,QAAM,EAAC1J,UAAW5B,EAAQN,KAAhC,SACE,cAACuC,EAAA,EAAD,UACE,cAAC6J,GAAA,EAAD,UACE,cAAChJ,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAAS,kBAAMoP,GAAe,EAArB,EAA5C,kCAOT,E,UCTK9Q,GAAYC,YAAW,CAC3B8M,cAAe,CACbC,eAAgB,UAElBJ,KAAM,CACJzM,WAAY,QAEdsO,cAAe,CACbC,SAAU,WAEZqC,kBAAmB,CACjBC,UAAW,SACXC,aAAc,OAILC,GAAiB,SAAC,GAKxB,IAJLhE,EAII,EAJJA,KACAQ,EAGI,EAHJA,QACAyD,EAEI,EAFJA,OACAvS,EACI,EADJA,SAEM6B,EAAWC,cACXF,EAAUR,KAEhB,EAA8Bc,mBAAS,CAAC,GAAxC,mBAAOsQ,EAAP,KAAgBC,EAAhB,KAEApH,qBAAU,WACHiD,GAGHmE,EADEF,EACS,CACTpQ,SAAU,GACVwN,WAAY,GACZC,UAAW,GACXxN,SAAU,GACVsP,UAAU,GAKH,CACTzM,GAAIjF,EAASiF,GACb9C,SAAUnC,EAASmC,SACnBwN,WAAY3P,EAAS2P,WACrBC,UAAW5P,EAAS4P,UACpB8B,SAAU1R,EAAS0R,UAEtB,GAAE,CAACpD,IAEJ,MAAkCpM,mBAAS,IAA3C,mBAAOwQ,EAAP,KAAkBC,EAAlB,KAEMjQ,EAAW,SAACkQ,EAAU/P,GAC1B4P,EAAW,2BACND,GADK,kBAEPI,EAAW/P,IAEf,EAgCKgQ,EAAe,SAAAD,GACnB,MAAiB,eAAbA,EACEF,IAAcpU,EAA6BoU,EACxC,GAGQ,cAAbE,EACEF,IAAcnU,EAA4BmU,EACvC,GAGQ,aAAbE,EACEF,IAAclU,EAAgCkU,EAC3C,GAGLA,IAAcpU,GAAwBoU,IAAcnU,GAAuBmU,IAAclU,EAAgC,GACtHkU,CACR,EAEKtH,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IACpC,EAA8BpI,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KAcA,OAZAnD,qBAAU,WACHxM,IAAWuM,EAAWvM,UAE3B2P,GAAW,GACNpD,EAAWtM,MAKhB6T,EAAavH,EAAWtM,OAJtBgQ,IAKH,GAAE,CAAC1D,IAGF,eAAC2D,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UACE,eAACE,GAAA,EAAD,CAAexL,UAAW5B,EAAQiO,cAAlC,UAEIhR,EACI,cAACoQ,GAAA,EAAD,IACA,GAEN,cAAC5L,EAAA,EAAD,CAAM7B,WAAS,EAAC8B,UAAU,SAA1B,SAEIwP,OAAOC,KAAKP,GACT9B,KACC,SAAAkC,GAAQ,MACO,OAAbA,EACI,GAEA,cAACvP,EAAA,EAAD,CAAMI,MAAI,EAAV,SAEiB,aAAbmP,EAEI,eAACvP,EAAA,EAAD,CAAM7B,WAAS,EAACgC,UAAW5B,EAAQoM,KAAMlK,QAAS,EAAlD,UACE,cAACT,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC+L,GAAA,EAAD,CAAmBhM,UAAW5B,EAAQuQ,kBAAtC,qBAIF,cAAC9O,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACuP,GAAA,EAAD,CACEC,QAAST,EAAQd,SACjBhP,SAAU,kBAAMA,EAAS,YAAa8P,EAAQd,SAApC,SAKhB,cAAC3N,EAAA,EAAD,CACEoL,MAAOyD,EAASM,QAAQ,IAAK,KAC7BhP,KAAmB,aAAb0O,EAA0B,WAAa,OAC7C/P,MAAO2P,EAAQI,GACflQ,SAAU,SAAAC,GAAC,OAAID,EAASkQ,EAAUjQ,EAAEC,OAAOC,MAAhC,EACXoB,WAAY4O,EAAaD,GACzB9T,MAAkC,KAA3B+T,EAAaD,MAxBdA,EAJd,SAqClB,eAACxD,GAAA,EAAD,CAAe5L,UAAW5B,EAAQuM,cAAlC,UACE,eAACzJ,EAAA,EAAD,CAAQ5B,QAnHG,WACU,KAArB0P,EAAQrQ,SAKe,KAAvBqQ,EAAQ7C,WAKc,KAAtB6C,EAAQ5C,UAKa,KAArB4C,EAAQpQ,UAKZoM,GAAW,GAET3M,EADE0Q,EACOhJ,GAAWiJ,GAIb3I,GAAW2I,KAVlBG,EAAanU,GALbmU,EAAapU,GALboU,EAAarU,GALbqU,EAAatU,EA0BhB,EAuFK,UACGkU,EAAS,SAAW,OADvB,WAGA,cAAC7N,EAAA,EAAD,CAAQ6I,MAAM,YAAYzK,QAASgM,EAAnC,yBAMP,E,8BC9LK1N,GAAYC,YAAW,CAC3BC,KAAM,CACJyK,cAAe,SACfC,QAAS,cACTF,MAAO,QAET6B,eAAgB,CACdrB,YAAa,MACbN,QAAS,OACTvK,SAAU,EACVqK,MAAO,QAETK,YAAa,CACXC,MAAO,QAETb,OAAQ,CACNW,cAAe,OACfD,SAAU,UACVH,MAAO,OACP8B,WAAY,UAEdC,WAAY,CACV5B,SAAU,aAIDkH,GAAe,SAAC,GAGtB,IAFLC,EAEI,EAFJA,aACApT,EACI,EADJA,SAEM4B,EAAUR,KACVS,EAAWC,cASjB,OACE,cAACuB,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,eAACE,EAAA,EAAD,CAAMgB,QAAQ,WAAWuI,QAAM,EAAC1J,UAAW5B,EAAQN,KAAnD,UACE,cAACsP,EAAA,EAAD,CACEpN,UAAW5B,EAAQ+L,eADrB,SAGE,eAACtK,EAAA,EAAD,CAAM7B,WAAS,EAACsC,QAAS,EAAGN,UAAW5B,EAAQoM,KAA/C,UACE,cAAC3K,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC,KAAD,MAEF,cAACJ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC2J,EAAA,EAAD,CAAY5J,UAAW5B,EAAQiM,WAA/B,SACGuF,EAAaxT,cAKtB,cAACiE,EAAA,EAAD,CAAaL,UAAW5B,EAAQuK,YAAhC,SACE,cAACuB,GAAA,EAAD,UACE,cAAChJ,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QA1B7B,WACdjB,EAASoI,GAAe,CACtBL,OAAQ5J,EAASiF,GACjB+E,SAAUoJ,IAEb,EAqBS,sCAQX,E,oBCnEKhS,GAAYC,YAAW,CAC3B2M,KAAM,CACJhC,QAAS,OACTvK,SAAU,EACVqK,MAAO,OACPQ,YAAa,UACb/K,WAAY,UAEd8R,YAAa,CACXjH,MAAO,QAETb,OAAQ,CACNU,SAAU,UACVC,cAAe,QAEjB2B,WAAY,CACV5B,SAAU,aAIDyD,GAAW,SAAC,GAMlB,IALL1P,EAKI,EALJA,SACAsT,EAII,EAJJA,QACAC,EAGI,EAHJA,SACAC,EAEI,EAFJA,aACAC,EACI,EADJA,WAEM7R,EAAUR,KAEVW,EAAYC,aAAY,SAAApD,GAAK,OAAIA,EAAMqD,IAAV,IAsBnC,OACE,eAACyR,GAAA,EAAD,CAAWxG,QAAM,EAAjB,UACE,eAACyG,GAAA,EAAD,WACE,eAACtQ,EAAA,EAAD,CAAM7B,WAAS,EAACsC,QAAS,EAAGN,UAAW5B,EAAQoM,KAA/C,UACE,cAAC3K,EAAA,EAAD,CAAMI,MAAI,EAAV,SAEIzD,EAAS0R,SACL,cAAC,KAAD,IACA,cAACkC,GAAA,EAAD,MAGR,cAACvQ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,eAAC2J,EAAA,EAAD,CACE5J,UAAW5B,EAAQiM,WADrB,UACkC7N,EAASmC,SAD3C,KACuDnC,EAAS2P,WADhE,IAC6E3P,EAAS4P,UADtF,YAIJ,eAAClC,GAAA,EAAD,CAAalK,UAAW5B,EAAQyR,YAAhC,UACE,cAAC3O,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QArCvB,SAAAH,GAClBA,EAAEkR,kBACFP,EAAQtT,EACT,EAkCO,2BAGA,cAAC0E,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAnC1B,SAAAH,GACfA,EAAEkR,kBACFN,GAAS,EAAOvT,EACjB,EAgCO,uBAGA,cAAC0E,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAjCpB,SAAAH,GACrBA,EAAEkR,kBACFL,GAAa,EAAOxT,EACrB,EA8BO,6BAIkB,IAAhBA,EAASiF,IAAYjF,EAASiF,KAAOlD,EAAU/B,SAASiF,GACpD,GAEA,cAACP,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAnC9B,SAAAH,GACjBA,EAAEkR,kBACFJ,EAAWzT,EACZ,EAgCa,+BAOV,cAAC8T,GAAA,EAAD,UACE,cAACzQ,EAAA,EAAD,CAAM7B,WAAS,EAAC8B,UAAU,SAA1B,SAEItD,EAAS+T,WAAWrD,KAClB,SAAA1G,GAAQ,OAAI,cAAC,GAAD,CAEVoJ,aAAcpJ,EACdhK,SAAUA,GAFLgK,EAAS/E,GADR,UAWrB,ECvGK7D,GAAYC,YAAW,CAC3B8M,cAAe,CACbC,eAAgB,YAIP4F,GAAuB,SAAC,GAI9B,IAHL1F,EAGI,EAHJA,KACAQ,EAEI,EAFJA,QACA7J,EACI,EADJA,GAEMpD,EAAWC,cACXF,EAAUR,KAEVgK,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IAEpC,EAA8BpI,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KACA,EAAgCtM,mBAAS,IAAzC,mBAAOE,EAAP,KAAiB6R,EAAjB,KACA,EAA8C/R,mBAAS,IAAvD,mBAAOgS,EAAP,KAAwBC,EAAxB,KACA,EAA0CjS,mBAAS,IAAnD,mBAAOkB,EAAP,KAAsBgR,EAAtB,KACA,EAAwDlS,mBAAS,IAAjE,mBAAOmS,EAAP,KAA6BC,EAA7B,KAqCA,OAZAjJ,qBAAU,WACHxM,IAAWuM,EAAWvM,UAE3B2P,GAAW,GACPpD,EAAWtM,MACbsV,EAAiBhJ,EAAWtM,OAI9BgQ,IACD,GAAE,CAAC1D,EAAYvM,IAGd,eAACkQ,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UACE,eAACE,GAAA,EAAD,WAEInQ,EACI,cAACoQ,GAAA,EAAD,IACA,GAEN,eAAC5L,EAAA,EAAD,CAAM7B,WAAS,EAAC8B,UAAU,SAASQ,QAAS,EAA5C,UACE,cAACT,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACM,EAAA,EAAD,CACEmL,WAAS,EACTC,MAAM,eACNjL,KAAK,WACLpF,MAAyB,KAAlBsE,EACPa,WAAYb,EACZP,MAAOT,EACPM,SAAU,SAAAC,GAAC,OAAIsR,EAAYtR,EAAEC,OAAOC,MAAzB,MAGf,cAACQ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAACM,EAAA,EAAD,CACEoL,MAAM,mBACNjL,KAAK,WACLpF,MAAgC,KAAzBuV,EACPpQ,WAAYoQ,EACZxR,MAAOqR,EACPxR,SAAU,SAAAC,GAAC,OAAIwR,EAAmBxR,EAAEC,OAAOC,MAAhC,YAKnB,eAACuM,GAAA,EAAD,CAAe5L,UAAW5B,EAAQuM,cAAlC,UACE,cAACzJ,EAAA,EAAD,CAAQ5B,QApEE,SAACH,GACfA,EAAEI,iBACe,KAAbX,GAKJgS,EAAiB,IAEbhS,IAAa8R,GAIjBI,EAAwB,IAExB9F,GAAW,GACX3M,EAASgI,GAAW,CAClB5E,GAAIA,EACJyM,UAAU,EACVtP,SAAUA,MATVkS,EAAwB,2BAPxBF,EAAiB5V,EAkBpB,EA+C+B6O,SAAUxO,EAApC,kBACA,cAAC6F,EAAA,EAAD,CAAQ5B,QAASgM,EAASvB,MAAM,YAAhC,yBAIP,ECjGYgH,GAAmB,SAAC,GAI1B,IAHLjG,EAGI,EAHJA,KACAQ,EAEI,EAFJA,QACA7J,EACI,EADJA,GAEMpD,EAAWC,cACXsJ,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IAEpC,EAA8BpI,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KACA,EAA0BtM,mBAAS,IAAnC,mBAAOpD,EAAP,KAAcwQ,EAAd,KAqBA,OAZAjE,qBAAU,WACHxM,IAAWuM,EAAWvM,UAE3B2P,GAAW,GACNpD,EAAWtM,MAKhBwQ,EAASlE,EAAWtM,OAJlBgQ,IAKH,GAAE,CAAC1D,IAGF,eAAC2D,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UACE,eAACE,GAAA,EAAD,WAEInQ,EACI,cAACoQ,GAAA,EAAD,IACA,GAEN,cAACM,GAAA,EAAD,yDAIEzQ,EACI,cAAC0Q,GAAA,EAAD,UAAoB1Q,IACpB,MAGR,eAACsQ,GAAA,EAAD,WACE,cAAC1K,EAAA,EAAD,CAAQ5B,QArCE,WACd0L,GAAW,GAEXtH,QAAQC,IAAIlC,GACZpD,EAASiI,GAAW7E,GACrB,EAgCK,yBAGA,cAACP,EAAA,EAAD,CAAQ5B,QAASgM,EAASvB,MAAM,YAAhC,yBAIP,E,UC9DKiH,GAAmB3P,YAAoB,CAC3CC,aAAc,SAACC,EAAGC,GAChB,OAAID,EAAEE,GAAKD,EAAEC,IACH,EAENF,EAAEE,GAAKD,EAAEC,GACJ,EAEF,CACR,IAGGpF,GAAe2U,GAAiBtP,gBAAgB,CACpDoE,YAAY,IAGDmL,GAAiBrV,YAC5B,sBAD4C,iDAE5C,WAAO4K,EAAP,6FACE1K,EADF,EACEA,gBADF,kBAI2BvB,IAAMwB,KAAN,UAAc3B,EAAd,eAAsCoM,GAJjE,cAIUxK,EAJV,yBAKWA,EAASC,MALpB,wCAOyBV,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAF4C,yDAiBjC4V,GAAetV,YAC1B,wBAD0C,iDAE1C,WAAOsK,EAAP,6FACEpK,EADF,EACEA,gBADF,kBAI2BvB,IAAM2H,IAAN,UAAa9H,EAAb,gBAJ3B,cAIU4B,EAJV,yBAKWA,EAASC,MALpB,wCAOyBV,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAF0C,yDAiB/B6V,GAAiBvV,YAC5B,0BAD4C,iDAE5C,WAAO4K,EAAP,6FACE1K,EADF,EACEA,gBADF,kBAI2BvB,IAAMoI,IAAN,UAAavI,EAAb,uBAAqCoM,EAAS/E,IAAM+E,GAJ/E,cAIUxK,EAJV,yBAKWA,EAASC,MALpB,wCAOyBV,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAF4C,yDAiBjC8V,GAAiBxV,YAC5B,0BAD4C,iDAE5C,WAAOyV,EAAP,2FACEvV,EADF,EACEA,gBADF,kBAIUvB,IAAMsI,OAAN,UAAgBzI,EAAhB,uBAAwCiX,IAJlD,gCAKWA,GALX,wCAOyB9V,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAF4C,yDAiBjCgW,GAAgB1V,YAC3B,yBAD2C,iDAE3C,WAAO2V,EAAP,6FACEzV,EADF,EACEA,gBADF,kBAI2BvB,IAAMwB,KAAN,UAAc3B,EAAd,iBAAwCmX,GAJnE,cAIUvV,EAJV,yBAKWA,EAASC,MALpB,wCAOyBV,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAF2C,yDAiBhCkW,GAAmB5V,YAC9B,4BAD8C,iDAE9C,WAAO2V,EAAP,2FACEzV,EADF,EACEA,gBADF,kBAIUvB,IAAMsI,OAAN,UAAgBzI,EAAhB,yBAA0CmX,EAAW9P,KAJ/D,gCAKW8P,GALX,wCAOyBhW,IAAjB,KAAIS,SAPZ,0CAQaF,EAAgBlB,IAR7B,iCAUWkB,EAAgB,KAAIE,SAASC,KAAKX,QAV7C,yDAF8C,yDAiB1CmW,GAAiBtV,YAAY,CACjCC,KAAM,YACNC,gBACAI,SAAU,CACRiV,eAAgB,SAAAtW,GACd4V,GAAiBpM,UAAUxJ,GAC3BA,EAAME,MAAQ,KACdF,EAAM0K,YAAa,CACpB,GAEHxI,eAAa,mBACV2T,GAAe1T,QAAUpC,GADf,cAEV8V,GAAezT,WAAY,SAACpC,EAAOK,GAClCL,EAAMC,SAAU,EAChB2V,GAAiBlM,UAAU1J,EAAOK,EAAOC,QAC1C,IALU,cAMVuV,GAAevT,SAAWlC,GANhB,cAOV0V,GAAa3T,QAAUpC,GAPb,cAQV+V,GAAa1T,WAAY,SAACpC,EAAOK,GAChCL,EAAMC,SAAU,EAChBD,EAAM0K,YAAa,EACnBkL,GAAiBpK,WAAWxL,EAAOK,EAAOC,QAC3C,IAZU,cAaVwV,GAAaxT,SAAWlC,GAbd,cAcV2V,GAAe5T,QAAUpC,GAdf,cAeVgW,GAAe3T,WAAY,SAACpC,EAAOK,GAClCL,EAAMC,SAAU,EAChB2V,GAAiBlM,UAAU1J,EAAOK,EAAOC,QAC1C,IAlBU,cAmBVyV,GAAezT,SAAWlC,GAnBhB,cAoBV4V,GAAe7T,QAAUpC,GApBf,cAqBViW,GAAe5T,WAAY,SAACpC,EAAOK,GAClCL,EAAMC,SAAU,EAChB2V,GAAiBxL,UAAUpK,EAAOK,EAAOC,QAC1C,IAxBU,cAyBV0V,GAAe1T,SAAWlC,GAzBhB,cA0BV8V,GAAc/T,QAAUpC,GA1Bd,cA2BVmW,GAAc9T,WAAY,SAACpC,EAAOK,GACjCL,EAAMC,SAAU,EACCD,EAAM2J,SAAStJ,EAAOC,QAAQiW,cACtCzJ,aAAa7K,KAAK5B,EAAOC,QACnC,IA/BU,cAgCV4V,GAAc5T,SAAWlC,GAhCf,cAiCVgW,GAAiBjU,QAAUpC,GAjCjB,cAkCVqW,GAAiBhU,WAAY,SAACpC,EAAOK,GACpCL,EAAMC,SAAU,EAChB,IAAMmL,EAAWpL,EAAM2J,SAAStJ,EAAOC,QAAQiW,cAC/CnL,EAAS0B,aAAe1B,EAAS0B,aAAa/C,QAAO,SAAAyM,GAAI,OAAIA,EAAKnQ,KAAOhG,EAAOC,QAAQ+F,EAA/B,GAC1D,IAtCU,cAuCV+P,GAAiB9T,SAAWlC,GAvClB,KA2CAkW,GAAmBD,GAAe9T,QAAlC+T,eACAD,MAAf,QC/JM7T,IDmKFoT,GAAiBrL,cAAa,SAAAvK,GAAK,OAAIA,EAAMyW,SAAV,IADrCjM,WClKgB/H,YAAW,CAC3BiU,YAAa,CACXC,SAAU,KAEZpH,cAAe,CACbC,eAAgB,aAIPoH,GAAoB,SAAC,GAI3B,IAHLlH,EAGI,EAHJA,KACAQ,EAEI,EAFJA,QACA9O,EACI,EADJA,SAEM6B,EAAWC,cACXF,EAAUR,KAEVgK,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IAC9BmL,EAAiBzT,aAAY,SAAApD,GAAK,OAAIA,EAAMyW,SAAV,IAExC,EAA8BnT,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KAEAnD,qBAAU,WACJoK,EAAenM,YAEfmM,EAAe5W,UAEfA,EACF2P,GAAW,IAIbA,GAAW,GACX3M,EAAS6S,GAAa,QACvB,GAAE,CAACe,EAAgB5W,IAEpB,MAAgCqD,mBAAS,IAAzC,mBAAO8H,EAAP,KAAiB0L,EAAjB,KACA,EAA0BxT,mBAAS,IAAnC,mBAAOpD,EAAP,KAAcwQ,EAAd,KAoCA,OAhBAjE,qBAAU,WACHxM,IAAWuM,EAAWvM,UAE3B2P,GAAW,GACNpD,EAAWtM,MAKhBwQ,EAASlE,EAAWtM,OAJlBgQ,IAKH,IAEDzD,qBAAU,WACRiE,EAAS,GACV,GAAE,CAAChB,IAGF,eAACS,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UAEIjQ,EACI,cAACmQ,GAAA,EAAD,UACA,cAACC,GAAA,EAAD,MAEA,GAEN,cAACG,GAAA,EAAD,CAAe5L,UAAW5B,EAAQuM,cAAlC,SACE,eAACwH,GAAA,EAAD,CAAanS,UAAW5B,EAAQ0T,YAAhC,UACE,cAACM,GAAA,EAAD,wBACA,cAACC,GAAA,EAAD,CACEhT,MAAOmH,EACPtH,SAAU,SAAAC,GAAC,OAAI+S,EAAY/S,EAAEC,OAAOC,MAAzB,EACX/D,MAAiB,KAAVA,EAHT,SAMIgU,OAAOgD,OAAOL,EAAelN,UAC1BmI,KAAI,SAAA1G,GAAQ,OACX,cAAC+L,GAAA,EAAD,CAA4BlT,MAAOmH,EAAS/E,GAA5C,SAAiD+E,EAASpK,MAA3CoK,EAAS/E,GADb,MAMjBnG,EACI,cAACkX,GAAA,EAAD,UAAiBlX,IACjB,QAIV,eAACsQ,GAAA,EAAD,WACE,cAAC1K,EAAA,EAAD,CAAQ5B,QAlEE,WACG,OAAbkH,EAKAhK,EAAS+T,WAAWpL,QAAO,SAAAyM,GAAI,OAAIA,EAAKnQ,KAAO+E,CAAhB,IAA0B1C,OAAS,EACpEgI,EAAS,+BAIXd,GAAW,GACX3M,EAASkI,GAAY,CACnBH,OAAQ5J,EAASiF,GACjB+E,SAAU,CAAE/E,GAAI+E,OAZhBsF,EAAS5Q,EAcZ,EAkDK,2BAGA,cAACgG,EAAA,EAAD,CAAQ6I,MAAM,YAAYzK,QAASgM,EAAnC,yBAMP,EC7GKmH,GAAU,CACd,CACEC,MAAO,WACPC,WAAY,WACZrK,MAAO,KAET,CACEoK,MAAO,aACPC,WAAY,aACZrK,MAAO,KAET,CACEoK,MAAO,YACPC,WAAY,YACZrK,MAAO,KAET,CACEoK,MAAO,WACPC,WAAY,QACZrK,MAAO,MAIL1K,GAAYC,YAAW,CAC3B+U,IAAK,CACHtK,MAAO,OACPuK,OAAQ,OACR/R,SAAU,SAEZgS,OAAQ,CACNf,SAAU,OAIDgB,GAAQ,WACnB,IAAM1U,EAAWC,cACXF,EAAUR,KACVgK,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IAEpC,EAA8BpI,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KAEA,EAAoCtM,mBAAS,CAAC,GAA9C,mBAAOsU,EAAP,KAAmBC,EAAnB,KACA,EAA0BvU,mBAAS,IAAnC,mBAAOoI,EAAP,KAAcoM,EAAd,KAEMC,EAAsB,SAAC/D,EAAU/P,GACrC,IAAM2G,EAAI,eAAQgN,GACJ,KAAV3T,SACK2G,EAAKoJ,GAEZpJ,EAAKoJ,GAAY/P,EAAM+T,WAEzBH,EAAcjN,EACf,EAED6B,qBAAU,WACRqL,EAAS5D,OAAOgD,OAAO1K,EAAW7C,UAC/BI,QAAO,SAAAa,GACN,cAA2BsJ,OAAO+D,QAAQL,GAA1C,eAAuD,CAAlD,0BAAOvT,EAAP,KAAYJ,EAAZ,KACH,IAAK2G,EAAKvG,GAAK2T,WACZE,cACA/Q,SAASlD,GACV,OAAO,CAEV,CACD,OAAO,CACR,IACJ,GAAE,CAACuI,EAAYoL,IAEhBnL,qBAAU,WACJxM,EACEuM,EAAW9B,YAAYkF,GAAW,GAIpCpD,EAAW9B,aAEfkF,GAAW,GACX3M,EAAS4H,GAAS,OACnB,GAAE,CAAC2B,IAEJ,MAA4ClJ,oBAAS,GAArD,mBAAOgQ,EAAP,KAAuB6E,EAAvB,KACA,EAA4B7U,oBAAS,GAArC,mBAAOqQ,EAAP,KAAeyE,EAAf,KACA,EAAgC9U,mBAAS,MAAzC,mBAAOlC,EAAP,KAAiBoQ,EAAjB,KAEMmD,EAAW,SAAChB,EAAQ9S,GACxBuX,EAAUzE,GACVwE,GAAkB,GACdxE,GAEJnC,EAAY3Q,EACb,EAED,EAAoDyC,oBAAS,GAA7D,mBAAO+U,EAAP,KAA2BC,EAA3B,KACM1D,EAAe,SAAA/T,GACnB2Q,EAAY3Q,GACZyX,GAAsB,EACvB,EAED,EAAgDhV,oBAAS,GAAzD,mBAAOiV,EAAP,KAAyBC,EAAzB,KACM3D,EAAa,SAAAhU,GACjB2Q,EAAY3Q,GACZ2X,GAAoB,EACrB,EAED,EAA0ClV,oBAAS,GAAnD,mBAAOmV,EAAP,KAAsBC,EAAtB,KACMhE,EAAU,SAAA7T,GACd2Q,EAAY3Q,GACZ6X,GAAiB,EAClB,EAED,OACE,sBAAK9T,UAAW5B,EAAQwU,IAAxB,UACE,cAAC,GAAD,CACE9H,KAAM4D,EACNpD,QAAS,kBAAMiI,GAAkB,EAAxB,EACTxE,OAAQA,EACRvS,SAAUA,IAEZ,cAAC,GAAD,CACEsO,KAAM2I,EACNnI,QAAS,kBAAMoI,GAAsB,EAA5B,EACTjS,GAAIjF,EAAWA,EAASiF,GAAK,IAE/B,cAAC,GAAD,CACEqJ,KAAM6I,EACNrI,QAAS,kBAAMsI,GAAoB,EAA1B,EACTnS,GAAIjF,EAAWA,EAASiF,GAAK,IAE/B,cAAC,GAAD,CACEqJ,KAAM+I,EACNvI,QAAS,kBAAMwI,GAAiB,EAAvB,EACTtX,SAAUA,IAGVnB,EACI,cAACoQ,GAAA,EAAD,IACA,GAEN,cAAC,GAAD,CAAeiD,eAAgBqB,IAC/B,cAACgE,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,UAEIzB,GAAQvF,KAAI,SAAAiH,GAAM,OAChB,cAACC,GAAA,EAAD,CAEEC,MAAM,SAFR,SAKqB,aAAjBF,EAAOzB,MAEH,eAACP,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,oBACA,eAACC,GAAA,EAAD,CAAQrS,UAAW5B,EAAQ0U,OAAQ5T,SAAU,SAAAC,GAAC,OAAIgU,EAAoBgB,EAAOzB,MAAOvT,EAAEC,OAAOC,MAA/C,EAA9C,UACE,cAACkT,GAAA,EAAD,CAAUlT,MAAM,GAAhB,iBACA,cAACkT,GAAA,EAAD,CAAUlT,MAAM,OAAhB,kBACA,cAACkT,GAAA,EAAD,CAAUlT,MAAM,QAAhB,yBAIJ,cAACkB,EAAA,EAAD,CACEoL,MAAO,aAAewI,EAAOxB,WAC7BzT,SAAU,SAAAC,GAAC,OAAIgU,EAAoBgB,EAAOzB,MAAOvT,EAAEC,OAAOC,MAAMiU,cAArD,KAjBda,EAAOzB,MAFE,YA8B1B5L,EAAMoG,KAAI,SAAAlH,GAAI,OACZ,cAAC,GAAD,CAEExJ,SAAUwJ,EACV+J,SAAUA,EACVC,aAAcA,EACdC,WAAYA,EACZH,QAASA,GALJ9J,EAAKvE,GAFA,MAYrB,EC9MK7D,GAAYC,YAAW,CAC3BC,KAAM,CACJwK,MAAO,OACPsC,eAAgB,OAChBpC,QAAS,eAEXK,YAAa,CACXL,QAAS,OACTvK,SAAU,EACVqK,MAAO,OACPQ,YAAa,WAEfH,YAAa,CACXC,MAAO,QAETb,OAAQ,CACNU,SAAU,UACVC,cAAe,UAIN4L,GAAe,SAAC,GAItB,IAHLC,EAGI,EAHJA,WACAC,EAEI,EAFJA,cACAzE,EACI,EADJA,SAEM3R,EAAUR,KAEhB,OACE,8BACE,eAACuC,EAAA,EAAD,CAAMuJ,QAAM,EAAC1J,UAAW5B,EAAQN,KAAhC,UACE,cAACsP,EAAA,EAAD,CAAapN,UAAW5B,EAAQyK,YAAhC,SACE,cAACtI,EAAA,EAAD,CACEoL,MAAM,wBACNtM,MAAOkV,EACPrV,SAAU,SAAAC,GAAC,OAAIqV,EAAcrV,EAAEC,OAAOC,MAAMiU,cAAjC,MAGf,cAACjT,EAAA,EAAD,CAAaL,UAAW5B,EAAQuK,YAAhC,SACE,cAACuB,GAAA,EAAD,UACE,cAAChJ,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAAS,kBAAMyQ,GAAS,EAAf,EAA5C,0CAQX,ECpCKnS,GAAYC,YAAW,CAC3BC,KAAM,CACJyK,cAAe,SACfC,QAAS,cACTF,MAAO,QAET6B,eAAgB,CACdrB,YAAa,MACbN,QAAS,OACTvK,SAAU,EACVqK,MAAO,QAETK,YAAa,CACXC,MAAO,QAETb,OAAQ,CACNW,cAAe,OACfD,SAAU,UACVH,MAAO,OACP8B,WAAY,UAEdC,WAAY,CACV5B,SAAU,aAIDgM,GAAe,CAAC,QAAS,OAAQ,SAAU,WAAY,aAEvDC,GAAiB,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eACzBvW,EAAUR,KACVS,EAAWC,cAEX8K,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IAEtC,EAAwB3D,mBAAS,IAAjC,mBAAOkW,EAAP,KAAaC,EAAb,KAEAhN,qBAAU,WACR,GAAa,KAAT+M,IAEAxL,EAAa/N,QAAjB,CAKA,IAHA,IAAIoG,EAAKkT,EAAelP,UACpBqP,EAAQ,EACRC,EAAc,GACJ,IAAPtT,GAAU,CACf,IAAK2H,EAAa9G,IAAIC,SAASd,GAE7B,YADApD,EAAS0D,GAAU4S,EAAelP,YAIhCqP,EAAQ,IACVC,GAA8D,IAA/C3L,EAAarE,SAAStD,GAAIW,iBAAyB,GAAK,OAASgH,EAAarE,SAAStD,GAAIrF,KAAO2Y,GAEnHtT,EAAK2H,EAAarE,SAAStD,GAAIW,iBAC/B0S,GACD,CAEGA,GAAS,IACXC,EAAc3L,EAAarE,SAAStD,GAAIrF,KAAO,SAAW2Y,GAE5DF,EAAQE,EArBwB,CAsBjC,GAAE,CAAC3L,IAMJ,OACE,cAACvJ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,eAACE,EAAA,EAAD,CAAMgB,QAAQ,WAAWuI,QAAM,EAAC1J,UAAW5B,EAAQN,KAAnD,UACE,cAACsP,EAAA,EAAD,CACEpN,UAAW5B,EAAQ+L,eADrB,SAGE,eAACtK,EAAA,EAAD,CAAM7B,WAAS,EAACsC,QAAS,EAAGN,UAAW5B,EAAQoM,KAA/C,UACE,cAAC3K,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC,KAAD,MAEF,cAACJ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,eAAC2J,EAAA,EAAD,CAAY5J,UAAW5B,EAAQiM,WAA/B,UACGuK,EADH,KACWH,GAAaE,EAAejK,cADvC,cAOkB,IAAtBiK,EAAelT,GACX,GAEA,cAACpB,EAAA,EAAD,CAAaL,UAAW5B,EAAQuK,YAAhC,SACA,cAACuB,GAAA,EAAD,UACE,cAAChJ,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QA3BhC,WACfjB,EAASmT,GAAiBmD,GAC3B,EAyBa,wCAUf,ECtGK/W,GAAYC,YAAW,CAC3B2M,KAAM,CACJhC,QAAS,OACTvK,SAAU,EACVqK,MAAO,OACPQ,YAAa,UACb/K,WAAY,UAEd8R,YAAa,CACXjH,MAAO,QAETb,OAAQ,CACNU,SAAU,UACVC,cAAe,QAEjB2B,WAAY,CACV5B,SAAU,aAIDkH,GAAe,SAAC,GAKtB,IAJLC,EAII,EAJJA,aACAG,EAGI,EAHJA,SACAE,EAEI,EAFJA,WACAH,EACI,EADJA,QAEM1R,EAAUR,KAiBhB,OACE,eAACsS,GAAA,EAAD,CAAWxG,QAAM,EAAjB,UACE,eAACyG,GAAA,EAAD,WACE,eAACtQ,EAAA,EAAD,CAAM7B,WAAS,EAACsC,QAAS,EAAGN,UAAW5B,EAAQoM,KAA/C,UACE,cAAC3K,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC,KAAD,MAEF,cAACJ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC2J,EAAA,EAAD,CAAY5J,UAAW5B,EAAQiM,WAA/B,SAA4CuF,EAAaxT,YAG7D,eAAC8N,GAAA,EAAD,CAAalK,UAAW5B,EAAQyR,YAAhC,UACE,cAAC3O,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QA3Bf,SAAAH,GAC1BA,EAAEkR,kBACFP,EAAQF,EACT,EAwBO,oCAGA,cAAC1O,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QAzBtB,SAAAH,GACnBA,EAAEkR,kBACFN,GAAS,EAAOH,EACjB,EAsBO,4BAIsB,IAApBA,EAAanO,GACT,GAEA,cAACP,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQzI,QA3B1B,SAAAH,GACrBA,EAAEkR,kBACFJ,EAAWL,EAAanO,GACzB,EAwBa,oCAMV,cAAC6O,GAAA,EAAD,UACE,cAACzQ,EAAA,EAAD,CAAM7B,WAAS,EAAC8B,UAAU,SAA1B,SAEI8P,EAAa1H,aAAagF,KACxB,SAAAqE,GAAU,OAAI,cAAC,GAAD,CAAoCoD,eAAgBpD,GAA/BA,EAAW9P,GAApC,UAOvB,EClFK7D,GAAYC,YAAW,CAC3B8M,cAAe,CACbC,eAAgB,UAElBJ,KAAM,CACJzM,WAAY,QAEdsO,cAAe,CACbC,SAAU,WAEZqC,kBAAmB,CACjBC,UAAW,SACXC,aAAc,OAILmG,GAAqB,SAAC,GAK5B,IAJLlK,EAII,EAJJA,KACAC,EAGI,EAHJA,QACAgE,EAEI,EAFJA,OACAa,EACI,EADJA,aAEMvR,EAAWC,cACXF,EAAUR,KAEVqU,EAAiBzT,aAAY,SAAApD,GAAK,OAAIA,EAAMyW,SAAV,IAExC,EAAwBnT,mBAAS,IAAjC,mBAAOtC,EAAP,KAAa6O,EAAb,KACA,EAA0BvM,mBAAS,IAAnC,mBAAOpD,EAAP,KAAcwQ,EAAd,KACA,EAA8BpN,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KAuCA,OAlBAnD,qBAAU,WACHxM,IAAW4W,EAAe5W,UAE/B2P,GAAW,GACPiH,EAAe3W,MACjBwQ,EAASmG,EAAe3W,OAI1ByP,GAAQ,GACT,IAEDlD,qBAAU,WACHiD,GAELG,EAAQ8D,EAAS,GAAKa,EAAaxT,KACpC,GAAE,CAAC0O,EAAMiE,EAAQa,IAGhB,eAACrE,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAAS,kBAAMP,GAAQ,EAAd,EAA7B,UACE,eAACS,GAAA,EAAD,CAAexL,UAAW5B,EAAQiO,cAAlC,UAEIhR,EACI,cAACoQ,GAAA,EAAD,IACA,GAEN,cAAClL,EAAA,EAAD,CACEmL,WAAS,EACTC,MAAM,OACNjL,KAAK,OACLrB,MAAOjD,EACP8C,SAAU,SAAAC,GAAC,OAAI8L,EAAQ9L,EAAEC,OAAOC,MAArB,EACXoB,WAAYnF,EACZA,MAAiB,KAAVA,OAGX,eAACsQ,GAAA,EAAD,CAAe5L,UAAW5B,EAAQuM,cAAlC,UACE,eAACzJ,EAAA,EAAD,CAAQ5B,QAxDG,WACF,KAATlD,GAKJ4O,GAAW,GAET3M,EADE0Q,EACOkC,GAAe,CACtB7U,KAAMA,IAID+U,GAAe,CACtB1P,GAAImO,EAAanO,GACjBrF,KAAMA,MAbN0P,EAAS5Q,EAeZ,EAuCK,UACG6T,EAAS,SAAW,OADvB,gBAGA,cAAC7N,EAAA,EAAD,CAAQ6I,MAAM,YAAYzK,QAAS,kBAAMyL,GAAQ,EAAd,EAAnC,yBAMP,ECjGYkK,GAAuB,SAAC,GAI9B,IAHLnK,EAGI,EAHJA,KACAQ,EAEI,EAFJA,QACA7J,EACI,EADJA,GAEMpD,EAAWC,cACX2T,EAAiBzT,aAAY,SAAApD,GAAK,OAAIA,EAAMyW,SAAV,IAExC,EAA8BnT,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KACA,EAA0BtM,mBAAS,IAAnC,mBAAOpD,EAAP,KAAcwQ,EAAd,KAoBA,OAZAjE,qBAAU,WACHxM,IAAW4W,EAAe5W,UAE/B2P,GAAW,GACNiH,EAAe3W,MAKpBwQ,EAASmG,EAAe3W,OAJtBgQ,IAKH,GAAE,CAAC2G,IAGF,eAAC1G,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UACE,eAACE,GAAA,EAAD,WAEInQ,EACI,cAACoQ,GAAA,EAAD,IACA,GAEN,cAACM,GAAA,EAAD,8DAIEzQ,EACI,cAAC0Q,GAAA,EAAD,UAAoB1Q,IACpB,MAGR,eAACsQ,GAAA,EAAD,WACE,cAAC1K,EAAA,EAAD,CAAQ5B,QApCE,WACd0L,GAAW,GAEX3M,EAAS+S,GAAe3P,GACzB,EAgCK,8BAGA,cAACP,EAAA,EAAD,CAAQ5B,QAASgM,EAASvB,MAAM,YAAhC,yBAIP,E,UCzCKnM,GAAYC,YAAW,CAC3BqX,OAAQ,CACN5M,MAAO,OACPuK,OAAQ,QAEVlI,cAAe,CACbC,eAAgB,QAElBuK,KAAM,CACJvK,eAAgB,UAElB7C,OAAQ,CACNW,cAAe,OACf,aAAc,CAAEqB,MAAO,UAEzB+H,YAAa,CACXC,SAAU,OAIDqD,GAAsB,SAAC,GAI7B,IAHLtK,EAGI,EAHJA,KACAQ,EAEI,EAFJA,QACAsE,EACI,EADJA,aAEMxR,EAAUR,KACVS,EAAWC,cACX8K,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IAEtC,EAA8B3D,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KACA,EAA4BtM,mBAAS,MAArC,mBAAOoD,EAAP,KAAeuT,EAAf,KACA,EAA0B3W,mBAAS,IAAnC,mBAAOpD,EAAP,KAAcwQ,EAAd,KAEMwJ,EAAa,SAAA7T,GACb2H,EAAa9G,IAAIC,SAASd,GAC5B4T,EAAUjM,EAAarE,SAAStD,KAIlC4T,EAAU,CACR5T,GAAIA,EACJrF,KAAM,GACNoG,cAAe,KAEjBwI,GAAW,GACX3M,EAAS0D,GAAUN,IACpB,EAEDoG,qBAAU,WACHiD,GAELwK,EAAW,EACZ,GAAE,CAACxK,IAEJjD,qBAAU,WACHxM,IAAW+N,EAAa/N,UAE7B2P,GAAW,GACP5B,EAAa9N,MACfwQ,EAAS1C,EAAa9N,OAIJ,KAAhBwG,EAAO1F,KAKXkP,IAJE+J,EAAUjM,EAAarE,SAASjD,EAAOL,KAK1C,GAAE,CAACpG,EAAS+N,IAEb,MAAsC1K,mBAAS,IAA/C,mBAAO6W,EAAP,KAAoBC,EAApB,KAcA,OACE,eAACjK,GAAA,EAAD,CAAQT,KAAMA,EAAMQ,QAASA,EAA7B,UAEIjQ,EACI,cAACoQ,GAAA,EAAD,IACA,GAGJ3J,EACI,gCACA,eAAC8J,GAAA,EAAD,CAAe5L,UAAW5B,EAAQuM,cAAlC,UAEoB,KAAhB7I,EAAO1F,MAA2C,IAA5B0F,EAAOM,iBACzB,cAAClB,EAAA,EAAD,CACAlB,UAAW5B,EAAQ2J,OACnBzI,QAAS,kBAAMgW,EAAWxT,EAAOM,iBAAxB,EAFT,SAGAgH,EAAarE,SAASjD,EAAOM,kBAAkBhG,OAC/C,GAGwB,IAA5B0F,EAAOM,iBACH,cAAClB,EAAA,EAAD,CAAQ2I,UAAQ,EAAC7J,UAAW5B,EAAQ2J,OAApC,eACA,GAEN,cAAC7G,EAAA,EAAD,CAAQlB,UAAW5B,EAAQ2J,OAAQ8B,UAAQ,EAA3C,SAA6C/H,EAAO1F,UAEtD,cAACoP,GAAA,EAAD,UACE,cAACiK,GAAA,EAAD,MAEF,cAAC7J,GAAA,EAAD,CAAe5L,UAAW5B,EAAQuM,cAAlC,SACE,cAACqD,GAAA,EAAD,UAEIlM,EAAOU,cAAc0K,KAAI,SAAApL,GAAM,OAC7B,eAACgG,GAAA,EAAD,CAAUC,QAAM,EAAiBzI,QAAS,kBAAMgW,EAAWxT,EAAOL,GAAxB,EAA1C,UACE,cAAC0G,GAAA,EAAD,UAAc,cAAC,KAAD,MACd,cAACE,GAAA,EAAD,CAAc4F,QAASnM,EAAO1F,SAFV0F,EAAOL,GADA,WAUrC,GAEN,cAACmK,GAAA,EAAD,CAAe5L,UAAW5B,EAAQ+W,KAAlC,SACE,eAAChD,GAAA,EAAD,CAAanS,UAAW5B,EAAQ0T,YAAhC,UACE,cAACM,GAAA,EAAD,2BACA,cAACC,GAAA,EAAD,CACEhT,MAAOkW,EACPrW,SAAU,SAAAC,GAAC,OAAIqW,EAAerW,EAAEC,OAAOC,MAA5B,EACX/D,MAAiB,KAAVA,EAHT,SAMImZ,GAAavH,KAAI,SAACwI,EAAOC,GAAR,OACf,cAACpD,GAAA,EAAD,CAAsBlT,MAAOsW,EAA7B,SAAqCD,GAAtBC,EADA,MAKnBra,EACI,cAACkX,GAAA,EAAD,UAAiBlX,IACjB,QAIV,eAACsQ,GAAA,EAAD,WACE,cAAC1K,EAAA,EAAD,CAAQ5B,QA7EG,WACK,KAAhBiW,GACFzJ,E/BzEgC,yB+B2ElCd,GAAW,GACX3M,EAASiT,GAAc,CACrBK,aAAc/B,EAAanO,GAC3BgE,UAAW3D,EAAOL,GAClBiJ,aAAc6K,IAEjB,EAmEK,6BAGA,cAACrU,EAAA,EAAD,CAAQ5B,QAASgM,EAASvB,MAAM,YAAhC,yBAIP,EC9KY6L,GAAY,WACvB,IAAMvX,EAAWC,cACX2T,EAAiBzT,aAAY,SAAApD,GAAK,OAAIA,EAAMyW,SAAV,IAExC,EAA8BnT,oBAAS,GAAvC,mBAAOrD,EAAP,KAAgB2P,EAAhB,KAEAnD,qBAAU,WACJoK,EAAe5W,UAEfA,EACF2P,GAAW,GAITiH,EAAenM,aAEnBkF,GAAW,GACX3M,EAAS6S,GAAa,QACvB,GAAE,CAACe,IAEJ,MAAoCvT,mBAAS,IAA7C,mBAAO6V,EAAP,KAAmBC,EAAnB,KACA,EAAkC9V,mBAAS,IAA3C,mBAAOmT,EAAP,KAAkBgE,EAAlB,KAEAhO,qBAAU,WACRgO,EAAavG,OAAOgD,OAAOL,EAAelN,UACvCI,QAAO,SAAAqB,GAAQ,OAAIA,EAASpK,KAAKkX,cAC/B/Q,SAASgS,EADI,IAEnB,GAAE,CAACA,EAAYtC,IAEhB,MAA4BvT,oBAAS,GAArC,mBAAOqQ,EAAP,KAAeyE,EAAf,KACA,EAAwC9U,mBAAS,MAAjD,mBAAOkR,EAAP,KAAqBkG,EAArB,KACA,EAA4CpX,oBAAS,GAArD,mBAAOgQ,EAAP,KAAuB6E,EAAvB,KAEMxD,EAAW,SAAChB,EAAQa,GACxB4D,EAAUzE,GACV+G,EAAgBlG,GAChB2D,GAAkB,EACnB,EAED,EAAgD7U,oBAAS,GAAzD,mBAAOiV,EAAP,KAAyBC,EAAzB,KACA,EAAgClV,mBAAS,MAAzC,mBAAOqX,EAAP,KAAiBC,EAAjB,KAEM/F,EAAa,SAAAxO,GACjBmS,GAAoB,GACpBoC,EAAYvU,EACb,EAED,EAA0C/C,oBAAS,GAAnD,mBAAOmV,EAAP,KAAsBC,EAAtB,KACMhE,EAAU,SAAA7T,GACd6Z,EAAgB7Z,GAChB6X,GAAiB,EAClB,EAED,OACE,gCACE,cAAC,GAAD,CAAoBhJ,KAAM4D,EAAgB3D,QAASwI,EAAmBxE,OAAQA,EAC1Da,aAAcA,IAClC,cAAC,GAAD,CAAsB9E,KAAM6I,EAAkBrI,QAAS,kBAAMsI,GAAoB,EAA1B,EACjCnS,GAAIsU,IAC1B,cAAC,GAAD,CAAqBjL,KAAM+I,EAAevI,QAAS,kBAAMwI,GAAiB,EAAvB,EAC9BlE,aAAcA,IACnC,cAAC,GAAD,CAAc2E,WAAYA,EAAYC,cAAeA,EACvCzE,SAAUA,IAEtB8B,EAAU3E,KAAI,SAAA1G,GAAQ,OAAI,cAAC,GAAD,CAExBoJ,aAAcpJ,EACduJ,SAAUA,EACVE,WAAYA,EACZH,QAASA,GAJJtJ,EAAS/E,GADM,MAU7B,EC5EK7D,GAAYC,YAAW,CAC3BC,KAAM,CACJwK,MAAO,eAETK,YAAa,CACXiC,eAAgB,YAIPqL,GAAU,WACrB,IAAM7X,EAAUR,KAEVW,EAAYC,aAAY,SAAApD,GAAK,OAAIA,EAAMqD,IAAV,IAEnC,EAAwBC,oBAAS,GAAjC,mBAAOoM,EAAP,KAAaC,EAAb,KAIA,OACE,gCACE,cAAC,GAAD,CAAsBD,KAAMA,EAAMQ,QALtB,WACdP,GAAQ,EACT,EAGuDtJ,GAAIlD,EAAU/B,SAASiF,KAC3E,eAACtB,EAAA,EAAD,CAAMC,UAAW,EAAGJ,UAAW5B,EAAQN,KAAvC,UACE,eAACsP,EAAA,EAAD,WACE,cAACxD,EAAA,EAAD,CAAYyK,MAAM,SAASlT,QAAQ,KAAnC,qBAGA,cAAC,GAAD,CAAU3E,SAAU+B,EAAU/B,cAEhC,cAAC6D,EAAA,EAAD,CAAaL,UAAW5B,EAAQuK,YAAhC,SACE,cAACzH,EAAA,EAAD,CAAQ5B,QAAS,kBAAMyL,GAAQ,EAAd,EAAjB,oCAKT,ECnCYmL,GAAU,WACrB,IAAM7X,EAAWC,cACX8K,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IAEtCwF,qBAAU,WACHuB,EAAa9G,IAAIC,SAAS,IACxB6G,EAAa/N,SAAY+N,EAAa9N,OACzC+C,EAAS0D,GAAU,GAGxB,GAAE,CAACqH,IAMJ,OAAoC,IAAhCA,EAAaxH,QAAQkC,OAChB,GAIP,eAAC3D,EAAA,EAAD,WACE,cAACiN,EAAA,EAAD,UACE,cAACxD,EAAA,EAAD,CAAYzI,QAAQ,KAApB,8BAEF,cAACd,EAAA,EAAD,UACE,cAAC2N,GAAA,EAAD,UAbG5E,EAAaxH,QAAQsL,KAAI,SAAAxF,GAAM,OAAI,cAAC,GAAD,CAA4BA,OAAQA,GAAnBA,EAAOjG,GAA5B,UAqBzC,EClCK7D,GAAYC,YAAW,CAC3B2M,KAAM,CACJxD,QAAS,OACTsB,MAAO,iBAIE6N,GAAY,WACvB,IAAM/X,EAAUR,KAEhB,OACE,eAACiC,EAAA,EAAD,CAAM7B,WAAS,EAACgC,UAAW5B,EAAQoM,KAAMlK,QAAS,EAAlD,UACE,cAACT,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC,GAAD,MAEF,cAACJ,EAAA,EAAD,CAAMI,MAAI,EAAV,SACE,cAAC,GAAD,QAIP,ECPY7C,GAAUgZ,cAqDRC,GAnDA,WACb,IAAM9X,EAAYC,aAAY,SAAApD,GAAK,OAAIA,EAAMqD,IAAV,IAC7B2K,EAAe5K,aAAY,SAAApD,GAAK,OAAIA,EAAMiH,OAAV,IAChCuF,EAAapJ,aAAY,SAAApD,GAAK,OAAIA,EAAM0L,KAAV,IAC9BmL,EAAiBzT,aAAY,SAAApD,GAAK,OAAIA,EAAMyW,SAAV,IAClCxT,EAAWC,cAEjB,EAA0CI,oBAAS,GAAnD,mBAAO4X,EAAP,KAAsBC,EAAtB,KAEMhJ,EAAkB,WACjBhP,EAAUhC,iBACfga,GAAkBD,EACnB,EAeD,OAbAzO,qBAAU,WACHtJ,EAAUjC,YAAY+B,EAAS3B,IACrC,GAAE,CAAC6B,IAEJsJ,qBAAU,WACJuB,EAAa9N,QAAUL,GAAuB2M,EAAWtM,QAAUL,GAAuBgX,EAAe3W,QAAUL,IACrHoD,EAASnB,KACTmB,EAASsG,MACTtG,EAASsI,MACTtI,EAASqT,MAEZ,GAAE,CAACtI,EAAcxB,EAAYqK,IAG5B,cAAC,IAAD,CAAQ7U,QAASA,GAAjB,SACE,sBAAK4C,UAAU,MAAf,UACE,cAAC,GAAD,CAAQuN,gBAAiBA,IACzB,cAAC,GAAD,CAAWzC,KAAMwL,EAAehL,QAASiC,IACzC,iCACE,cAACG,EAAA,EAAD,IACA,eAAC,IAAD,WACE,cAAC,IAAD,CAAO8I,OAAK,EAAC5B,KAAK,SAAS5M,UAAW7J,IAEtC,cAAC,GAAD,CAAcqY,OAAK,EAAC5B,KAAK,IAAI5M,UAAWmO,KAExC,cAAC,GAAD,CAAcK,OAAK,EAAC5B,KAAK,eAAe5M,UAAWwE,KAEnD,cAAC,GAAD,CAAcgK,OAAK,EAAC5B,KAAK,SAAS5M,UAAW+K,KAE7C,cAAC,GAAD,CAAcyD,OAAK,EAAC5B,KAAK,cAAc5M,UAAW4N,eAM7D,EC1DmBa,QACW,cAA7BC,OAAOC,SAASC,UAEa,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZWC,mBAAe,CAC5BC,QAAS,CACPtY,KAAMuY,EACN3U,QAAS4U,GACTnQ,MAAOoQ,GACPrF,UAAWsF,MCFfC,IAAS7I,OACP,cAAC,KAAD,UACE,cAAC,IAAD,CAAU8I,MAAOA,GAAjB,SACE,cAAC,GAAD,QAGHC,SAASC,eAAe,SFqHrB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,YACd,IACAC,OAAM,SAAAxc,GACLoI,QAAQpI,MAAMA,EAAMyc,QACrB,G","file":"static/js/main.522a8a4c.chunk.js","sourcesContent":["let API_ROUTE = 'http://206.189.185.232/api/v1'\n\nexport default API_ROUTE\n","import axios from 'axios'\n\nexport default function setAuthorizationToken (token) {\n  if (token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`\n  } else {\n    delete axios.defaults.headers.common.Authorization\n  }\n}\n","export const ErrNetworkErr = 'network error'\n\nexport const ErrRequiredUserID = 'required user id'\nexport const ErrRequiredUserUsername = 'required username'\nexport const ErrUserAlreadyExists = 'username already taken'\nexport const ErrRequiredFirstName = 'required first name'\nexport const ErrRequiredLastName = 'required last name'\nexport const ErrRequiredUserPassword = 'required password'\nexport const ErrUserNotFound = 'user not found'\nexport const ErrIncorrectPassword = 'incorrect password'\nexport const ErrUserUnauthorized = 'unauthorized'\nexport const ErrUserForbidden = 'forbidden'\n\nexport const ErrRequiredFolderID = 'required folder id'\nexport const ErrFolderNotFound = 'folder not found'\nexport const ErrFolderAlreadyExists = 'folder already exists'\nexport const ErrRequiredFolderName = 'required folder name'\nexport const ErrRequiredLastEditorID = 'required last editor id'\nexport const ErrFolderNotEmpty = 'cannot delete non-empty folder'\nexport const ErrRequiredParentFolderID = 'required parent folder id'\nexport const ErrInvalidParentFolderID = 'invalid parent folder id'\n\nexport const ErrRequiredUserRoleName = 'required user role name'\nexport const ErrRequiredUserRoleID = 'required user role id'\nexport const ErrUserRoleNotFound = 'user role not found'\nexport const ErrUserRoleAlreadyExists = 'user role already exists'\n\nexport const ErrInvalidAccessLevel = 'invalid access level'\nexport const ErrRequiredAccessLevel = 'required access level'\nexport const ErrRequiredAccessRoleID = 'required access role id'\nexport const ErrAccessRoleNotFound = 'access role not found'\nexport const ErrAccessRoleAlreadyExists = 'access role already exists'\n","export const toggleLoad = state => {\n  state.loading = true\n  state.error = undefined\n}\n\nexport const onError = (state, action) => {\n  state.loading = false\n  state.error = action.payload\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport axios from 'axios'\nimport API_ROUTE from '../apiRoute'\nimport { history } from '../Routes'\nimport setAuthorizationToken from '../auth/authorization'\nimport { ErrNetworkErr } from './errors'\nimport { onError, toggleLoad } from './util'\n\nconst initialState = {\n  loadStatus: false,\n  isAuthenticated: false,\n  userData: null\n}\n\nexport const loginUser = createAsyncThunk(\n  'auth/loginUser',\n  async (loginDetails, { rejectWithValue }) => {\n    try {\n      const response = await axios.post(`${API_ROUTE}/login`, loginDetails)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    loadUserFromStorage: state => {\n      const token = localStorage.getItem('token')\n      const userData = localStorage.getItem('userData')\n      if (token && userData) {\n        setAuthorizationToken(token)\n        state.userData = JSON.parse(userData)\n        state.isAuthenticated = true\n      }\n      state.loadStatus = true\n    },\n    updateUserData: (state, action) => {\n      state.userData = action.payload\n      localStorage.setItem('userData', JSON.stringify(action.payload))\n    },\n    logoutUser: state => {\n      state.isAuthenticated = false\n      localStorage.removeItem('token')\n      setAuthorizationToken(false)\n      history.push('/login')\n    }\n  },\n  extraReducers: {\n    [loginUser.pending]: toggleLoad,\n    [loginUser.fulfilled]: (state, action) => {\n      state.loading = false\n      state.isAuthenticated = true\n      state.userData = action.payload.user_data\n      localStorage.setItem('token', action.payload.token)\n      localStorage.setItem('userData', JSON.stringify(action.payload.user_data))\n      setAuthorizationToken(action.payload.token)\n    },\n    [loginUser.rejected]: onError\n  }\n})\n\nexport default authSlice.reducer\nexport const {\n  logoutUser,\n  loadUserFromStorage,\n  updateUserData\n} = authSlice.actions\n","import React, { useState } from 'react'\nimport {\n  Button,\n  Card,\n  CardActions,\n  Grid,\n  IconButton,\n  InputAdornment,\n  TextField\n} from '@material-ui/core'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Redirect } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { loginUser } from '../../store/authSlice'\nimport {\n  ErrIncorrectPassword,\n  ErrRequiredUserPassword,\n  ErrRequiredUserUsername,\n  ErrUserNotFound\n} from '../../store/errors'\nimport { Visibility, VisibilityOff } from '@material-ui/icons'\n\nconst useStyles = makeStyles({\n  card: {\n    paddingTop: 24\n  },\n  container: {\n    flexGrow: 1,\n    margin: '0.5rem'\n  }\n})\n\nconst Login = () => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const authState = useSelector((state) => state.auth)\n\n  const [loginDetails, setLoginDetails] = useState({\n    username: '',\n    password: ''\n  })\n  const [attemptedLogin, setAttemptedLogin] = useState(false)\n  const [showPassword, setShowPassword] = useState(false)\n\n  const onChange = (e) => {\n    setLoginDetails({\n      ...loginDetails,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const onClick = (e) => {\n    e.preventDefault()\n    if (!attemptedLogin) {\n      setAttemptedLogin(true)\n    }\n\n    if (loginDetails.username !== '' && loginDetails.password !== '' && !authState.loading) {\n      dispatch(loginUser(loginDetails))\n    }\n  }\n\n  const onKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      onClick(e)\n    }\n  }\n\n  if (authState.isAuthenticated) {\n    return <Redirect to='/'/>\n  }\n\n  let usernameError = attemptedLogin && loginDetails.username === '' ? ErrRequiredUserUsername : ''\n  let passwordError = attemptedLogin && loginDetails.password === '' ? ErrRequiredUserPassword : ''\n\n  if (authState.error !== '') {\n    if (authState.error === ErrUserNotFound || authState.error === ErrRequiredUserUsername) {\n      usernameError = authState.error\n    } else if (authState.error === ErrRequiredUserPassword || authState.error === ErrIncorrectPassword) {\n      passwordError = authState.error\n    }\n  }\n\n  return (\n    <Grid container direction='column' alignItems='center' className={classes.card}>\n      <Grid item sm={2}>\n        <Card elevation={6}>\n          <CardActions>\n            <Grid\n              container alignItems='center' direction='column' className={classes.container}\n              spacing={3}\n            >\n              <Grid item>\n                <TextField\n                  name='username'\n                  placeholder='username'\n                  value={loginDetails.username}\n                  onChange={onChange}\n                  onKeyPress={onKeyPress}\n                  error={usernameError !== ''}\n                  helperText={usernameError}\n                />\n              </Grid>\n              <Grid item>\n                <TextField\n                  name='password'\n                  placeholder='password'\n                  type={showPassword ? 'text' : 'password'}\n                  value={loginDetails.password}\n                  onChange={onChange}\n                  onKeyPress={onKeyPress}\n                  error={passwordError !== ''}\n                  helperText={passwordError}\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment position='end'>\n                        <IconButton\n                          onClick={() => setShowPassword(!showPassword)}\n                        >\n                          {showPassword ? <Visibility/> : <VisibilityOff/>}\n                        </IconButton>\n                      </InputAdornment>\n                    )\n                  }}\n                >\n                </TextField>\n              </Grid>\n              <Grid item>\n                <Button onClick={onClick} variant='contained'>\n                  Login\n                </Button>\n              </Grid>\n            </Grid>\n          </CardActions>\n        </Card>\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default Login\n","import { createAsyncThunk, createEntityAdapter, createSlice } from '@reduxjs/toolkit'\nimport axios from 'axios'\nimport API_ROUTE from '../apiRoute'\nimport { ErrNetworkErr } from './errors'\nimport fileDownload from 'js-file-download'\nimport { onError, toggleLoad } from './util'\n\nconst foldersAdapter = createEntityAdapter({\n  sortComparer: (a, b) => {\n    if (a.id > b.id) {\n      return -1\n    }\n    if (a.id < b.id) {\n      return 1\n    }\n    return 0\n  }\n})\n\nconst initialState = foldersAdapter.getInitialState({\n  function: '',\n  updates: []\n})\n\nexport const createFolder = createAsyncThunk(\n  'folder/createFolder',\n  async (folder, { rejectWithValue }) => {\n    try {\n      const response = await axios.post(`${API_ROUTE}/folders`, folder)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const getFolder = createAsyncThunk(\n  'folder/getFolder',\n  async (folderID, {\n    dispatch,\n    getState,\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.get(`${API_ROUTE}/folders/${folderID}`)\n      const state = getState()\n      const parentID = response.data.parent_folder_id\n      if (parentID !== 0 && !state.folders.ids.includes(parentID)) dispatch(getFolder(parentID))\n      response.data.child_folders.forEach(folder => {\n        if (!state.folders.ids.includes(folder.id)) dispatch(getFolder(folder.id))\n      })\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const updateFolder = createAsyncThunk(\n  'folder/updateFolder',\n  async (folder, { rejectWithValue }) => {\n    try {\n      const response = await axios.put(`${API_ROUTE}/folders/${folder.id}`, folder)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const deleteFolder = createAsyncThunk(\n  'folder/deleteFolder',\n  async (ids, { rejectWithValue }) => {\n    try {\n      await axios.delete(`${API_ROUTE}/folders/${ids.id}`)\n      return ids\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const createFile = createAsyncThunk(\n  'file/createFile',\n  async ({\n    file,\n    data\n  }, { rejectWithValue }) => {\n    try {\n      const response = await axios.post(`${API_ROUTE}/files`, file)\n      const formData = new FormData()\n      formData.append('file', data)\n      await axios.put(`${API_ROUTE}/file-data/${response.data.id}`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      })\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const getFile = createAsyncThunk(\n  'file/getFile',\n  async (entity, { rejectWithValue }) => {\n    try {\n      const response = await axios({\n        method: 'get',\n        url: `${API_ROUTE}/file-data/${entity.id}`,\n        responseType: 'blob'\n      })\n      fileDownload(response.data, entity.name)\n      return null\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const updateFile = createAsyncThunk(\n  'file/updateFile',\n  async (file, { rejectWithValue }) => {\n    try {\n      console.log(file)\n      const response = await axios.put(`${API_ROUTE}/files/${file.id}`, file)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const deleteFile = createAsyncThunk(\n  'file/deleteFile',\n  async (ids, { rejectWithValue }) => {\n    try {\n      await axios.delete(`${API_ROUTE}/files/${ids.id}`)\n      return ids\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nconst addUpdate = (state, entity) => {\n  if (state.updates.length === 0) {\n    state.updates.push(entity)\n    return\n  }\n\n  const updatedAt = Date.parse(entity.updated_at)\n  let l = 0\n  let h = state.updates.length - 1\n  let m = parseInt((l + h) / 2)\n  while (l < h) {\n    const otherUpdate = Date.parse(state.updates[m].updated_at)\n    if (updatedAt === otherUpdate) break\n\n    updatedAt > otherUpdate ? h = m - 1 : l = m + 1\n\n    m = parseInt((l + h) / 2)\n  }\n\n  state.updates.splice(Date.parse(state.updates[m].updated_at) < updatedAt ? m : m + 1, 0, entity)\n  for (let i = m; i < state.updates.length; i++) {\n    if (state.updates[i].id === entity.id && state.updates.files === undefined === entity.files === undefined) {\n      state.updates.splice(i, 1)\n      break\n    }\n  }\n}\n\nconst foldersSlice = createSlice({\n  name: 'folders',\n  initialState,\n  reducers: {\n    clearFolder: state => {\n      foldersAdapter.removeAll(state)\n      state.error = null\n    },\n    updateFunction: (state, action) => {\n      state.function = action.payload\n    },\n    getFolder: getFolder\n  },\n  extraReducers: {\n    [createFolder.pending]: toggleLoad,\n    [createFolder.fulfilled]: (state, action) => {\n      state.loading = false\n      foldersAdapter.upsertOne(state, action.payload)\n      state.entities[action.payload.parent_folder_id].child_folders.push(action.payload)\n    },\n    [createFolder.rejected]: onError,\n    [getFolder.pending]: toggleLoad,\n    [getFolder.fulfilled]: (state, action) => {\n      state.loading = false\n      const folder = action.payload\n      foldersAdapter.upsertOne(state, folder)\n\n      const yesterday = Date.now() - 86400000\n\n      if (Date.parse(folder.updated_at) > yesterday) {\n        addUpdate(state, folder)\n      }\n\n      folder.files.forEach(file => {\n        if (Date.parse(file.updated_at) > yesterday) {\n          addUpdate(state, file)\n        }\n      })\n    },\n    [getFolder.rejected]: onError,\n    [updateFolder.pending]: toggleLoad,\n    [updateFolder.fulfilled]: (state, action) => {\n      state.loading = false\n      const parentID = action.payload.parent_folder_id\n      if (parentID === 0) {\n        return\n      }\n      const parentFolder = state.entities[parentID]\n      parentFolder.child_folders = parentFolder.child_folders.filter(folder => folder.id !== action.payload.id)\n      parentFolder.child_folders.push(action.payload)\n\n      const folder = state.entities[action.payload.id]\n      if (folder === undefined) {\n        return\n      }\n      action.payload.child_folders = folder.child_folders\n      action.payload.files = folder.files\n      foldersAdapter.updateOne(state, action.payload)\n    },\n    [updateFolder.rejected]: onError,\n    [deleteFolder.pending]: toggleLoad,\n    [deleteFolder.fulfilled]: (state, action) => {\n      state.loading = false\n      const parent = state.entities[action.payload.parentFolderID]\n      parent.child_folders = parent.child_folders.filter(child => child.id !== action.payload.id)\n      foldersAdapter.removeOne(state, action.payload.id)\n    },\n    [deleteFolder.rejected]: onError,\n    [createFile.pending]: toggleLoad,\n    [createFile.fulfilled]: (state, action) => {\n      state.loading = false\n      const folder = state.entities[action.payload.folder_id]\n      folder.files.push(action.payload)\n      foldersAdapter.updateOne(state, folder)\n    },\n    [createFile.rejected]: onError,\n    [getFile.pending]: toggleLoad,\n    [getFile.fulfilled]: state => {\n      state.loading = false\n    },\n    [getFile.rejected]: onError,\n    [updateFile.pending]: toggleLoad,\n    [updateFile.fulfilled]: (state, action) => {\n      state.loading = false\n      const folderID = action.payload.folder_id\n      const folder = state.entities[folderID]\n      folder.files = folder.files.filter(file => file.id !== action.payload.id)\n      folder.files.push(action.payload)\n    },\n    [updateFile.rejected]: onError,\n    [deleteFile.pending]: toggleLoad,\n    [deleteFile.fulfilled]: (state, action) => {\n      state.loading = false\n      const folder = state.entities[action.payload.folderID]\n      folder.files = folder.files.filter(file => file.id !== action.payload.id)\n    },\n    [deleteFile.rejected]: onError\n  }\n})\n\nexport const {\n  clearFolder,\n  updateFunction\n} = foldersSlice.actions\nexport default foldersSlice.reducer\n\nexport const { selectById: selectFolderById } = foldersAdapter.getSelectors(state => state.folders)\n","import { createAsyncThunk, createEntityAdapter, createSlice } from '@reduxjs/toolkit'\nimport axios from 'axios'\nimport API_ROUTE from '../apiRoute'\nimport { ErrNetworkErr } from './errors'\nimport { onError, toggleLoad } from './util'\n\nconst usersAdapter = createEntityAdapter({\n  sortComparer: (a, b) => {\n    if (a.id > b.id) {\n      return -1\n    }\n    if (a.id < b.id) {\n      return 1\n    }\n    return 0\n  }\n})\n\nconst initialState = usersAdapter.getInitialState({\n  loadedData: false\n})\n\nexport const createUser = createAsyncThunk(\n  'user/createUser',\n  async (user, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.post(`${API_ROUTE}/users`, user)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const getUsers = createAsyncThunk(\n  'user/getUsers',\n  async (_, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.get(`${API_ROUTE}/users`)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const getUser = createAsyncThunk(\n  'user/getUser',\n  async (userID, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.get(`${API_ROUTE}/users/${userID}`)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const updateUser = createAsyncThunk(\n  'user/updateUser',\n  async (user, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.put(`${API_ROUTE}/users/${user.id}`, user)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const deleteUser = createAsyncThunk(\n  'user/deleteUser',\n  async (userID, {\n    rejectWithValue\n  }) => {\n    try {\n      await axios.delete(`${API_ROUTE}/users/${userID}`)\n      return userID\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const addUserRole = createAsyncThunk(\n  'user/addUserRole',\n  async ({\n    userID,\n    userRole\n  }, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.post(`${API_ROUTE}/users/user-roles/${userID}`, userRole)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const removeUserRole = createAsyncThunk(\n  'user/removeUserRole',\n  async ({\n    userID,\n    userRole\n  }, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.delete(`${API_ROUTE}/users/user-roles/${userID}`, { data: userRole })\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nconst usersSlice = createSlice({\n  name: 'users',\n  initialState,\n  reducers: {\n    clearUsers: state => {\n      usersAdapter.removeAll(state)\n      state.error = null\n      state.loadedData = false\n    }\n  },\n  extraReducers: {\n    [createUser.pending]: toggleLoad,\n    [createUser.fulfilled]: (state, action) => {\n      state.loading = false\n      usersAdapter.upsertOne(state, action.payload)\n    },\n    [createUser.rejected]: onError,\n    [getUsers.pending]: toggleLoad,\n    [getUsers.fulfilled]: (state, action) => {\n      state.loading = false\n      state.loadedData = true\n      usersAdapter.upsertMany(state, action.payload)\n    },\n    [getUsers.rejected]: onError,\n    [getUser.pending]: toggleLoad,\n    [getUser.fulfilled]: (state, action) => {\n      state.loading = false\n      usersAdapter.upsertOne(state, action.payload)\n    },\n    [getUser.rejected]: onError,\n    [updateUser.pending]: toggleLoad,\n    [updateUser.fulfilled]: (state, action) => {\n      state.loading = false\n      usersAdapter.upsertOne(state, action.payload)\n    },\n    [updateUser.rejected]: onError,\n    [deleteUser.pending]: toggleLoad,\n    [deleteUser.fulfilled]: (state, action) => {\n      state.loading = false\n      usersAdapter.removeOne(state, action.payload)\n    },\n    [deleteUser.rejected]: onError,\n    [addUserRole.pending]: toggleLoad,\n    [addUserRole.fulfilled]: (state, action) => {\n      state.loading = false\n      usersAdapter.upsertOne(state, action.payload)\n    },\n    [addUserRole.rejected]: onError,\n    [removeUserRole.pending]: toggleLoad,\n    [removeUserRole.fulfilled]: (state, action) => {\n      state.loading = false\n      usersAdapter.upsertOne(state, action.payload)\n    },\n    [removeUserRole.rejected]: onError\n  }\n})\n\nexport const { clearUsers } = usersSlice.actions\nexport default usersSlice.reducer\n\nexport const {\n  selectById: selectUserById\n} = usersAdapter.getSelectors(state => state.users)\n","import { Link } from 'react-router-dom'\nimport { ListItem, ListItemIcon, ListItemText } from '@material-ui/core'\nimport { Folder, InsertDriveFile } from '@material-ui/icons'\nimport React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { getUser, selectUserById } from '../../store/usersSlice'\n\nconst useStyles = makeStyles({\n  listItem: {\n    padding: '0.5rem'\n  }\n})\n\nconst days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n\nexport const getTime = (time) => {\n  const date = new Date(Date.parse(time))\n  const mins = date.getMinutes()\n  return days[date.getDay()] + ' ' + date.getHours() + ':' + (mins > 9 ? mins : '0' + mins)\n}\n\nexport const UpdateInfo = ({ update }) => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  const user = useSelector(state => selectUserById(state, update.last_editor_id))\n  const usersState = useSelector(state => state.users)\n\n  useEffect(() => {\n    if (user || usersState.loading) return\n\n    dispatch(getUser(update.last_editor_id))\n  }, [user, usersState])\n\n  return (\n    <ListItem\n      key={update.id}\n      button\n      component={Link}\n      to={'/folders/' + (update.access_roles !== undefined ? update.id : update.folder_id)}\n    >\n      <ListItemIcon>\n        {update.access_roles !== undefined ? <Folder/> : <InsertDriveFile/>}\n      </ListItemIcon>\n      <ListItemText className={classes.listItem}>{update.name}</ListItemText>\n      <ListItemText className={classes.listItem}>\n        Updated By {user ? user.username : ''} On {getTime(update.updated_at)}\n      </ListItemText>\n    </ListItem>\n  )\n}\n","import { Button, ButtonGroup, Card, CardActions, Typography } from '@material-ui/core'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link } from 'react-router-dom'\nimport { getFolder, updateFunction } from '../../store/foldersSlice'\nimport React, { useEffect, useState } from 'react'\nimport { getTime } from '../dashboard/UpdateInfo'\nimport { getUser } from '../../store/usersSlice'\n\nconst useStyles = makeStyles({\n  card: {\n    width: '100%',\n    verticalAlign: 'middle',\n    display: 'inline-flex'\n  },\n  button: {\n    fontSize: '1.25rem',\n    textTransform: 'none'\n  },\n  cardActions: {\n    float: 'left'\n  },\n  cardContent: {\n    display: 'flex',\n    flexGrow: 1,\n    width: 'auto',\n    paddingLeft: '1.25rem'\n  },\n  cardWithParentContent: {\n    display: 'flex',\n    flexGrow: 1,\n    width: 'auto',\n    paddingLeft: 0\n  },\n  parentFolderActions: {\n    paddingRight: 0\n  }\n})\n\nexport const ParentFoldersBar = ({\n  id,\n  showUser\n}) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const foldersState = useSelector(state => state.folders)\n  const [parentFolders, setParentFolders] = useState([])\n\n  const onCreateFolder = () => {\n    dispatch(updateFunction({\n      type: 'create',\n      folder: true,\n      id: parentFolders[0].id\n    }))\n  }\n\n  const onEditFolder = () => {\n    dispatch(updateFunction({\n      type: 'edit',\n      folder: true,\n      entity: parentFolders[0].id\n    }))\n  }\n\n  const onDeleteFolder = () => {\n    dispatch(updateFunction({\n      type: 'delete',\n      folder: true,\n      ids: {\n        id: parentFolders[0].id,\n        parentFolderID: parentFolders[0].id.parent_folder_id\n      }\n    }))\n  }\n\n  const onCreateFile = () => {\n    dispatch(updateFunction({\n      type: 'create',\n      folder: false,\n      id: parentFolders[0].id\n    }))\n  }\n\n  useEffect(() => {\n    if (foldersState.loading) return\n\n    let currentId = id\n    const folders = []\n    while (currentId !== 0) {\n      if (!foldersState.ids.includes(currentId)) {\n        dispatch(getFolder(currentId))\n        return\n      }\n\n      folders.push(foldersState.entities[currentId])\n      currentId = foldersState.entities[currentId].parent_folder_id\n    }\n\n    setParentFolders(folders)\n  }, [id, foldersState])\n\n  const generateFolders = () => {\n    const parentFolderComponents = []\n    for (let i = 0; i < (parentFolders.length > 3 ? 2 : 3); i++) {\n      if (i >= parentFolders.length) break\n\n      if (i !== 0) {\n        parentFolderComponents.push(\n          <Typography variant='h6'>\n            /\n          </Typography>\n        )\n      }\n\n      parentFolderComponents.push(\n        <Button\n          className={classes.button}\n          component={Link}\n          to={'/folders/' + parentFolders[i].id}\n          disabled={i === 0}\n          style={{ color: 'black' }}\n        >\n          {parentFolders[i].name}\n        </Button>\n      )\n    }\n\n    if (parentFolders.length > 3) {\n      parentFolderComponents.push(\n        <Typography variant='h6'>\n          / ... /\n        </Typography>\n      )\n      parentFolderComponents.push(\n        <Button\n          className={classes.button}\n          component={Link}\n          to={'/folders/' + parentFolders[parentFolders.length - 1].id}\n        >\n          {parentFolders[parentFolders.length - 1].name}\n        </Button>\n      )\n    }\n\n    return parentFolderComponents.reverse()\n  }\n\n  const [lastEditor, setLastEditor] = useState(null)\n  const usersState = useSelector(state => state.users)\n  useEffect(() => {\n    console.log(parentFolders[0])\n    if (lastEditor || usersState.loading || !parentFolders[0]) return\n\n    if (usersState.ids.includes(parentFolders[0].last_editor_id)) {\n      setLastEditor(usersState.entities[parentFolders[0].last_editor_id])\n      return\n    }\n    dispatch(getUser(parentFolders[0].last_editor_id))\n  }, [lastEditor, parentFolders, usersState])\n\n  if (foldersState.loading || parentFolders.length === 0) {\n    return ''\n  }\n\n  return (\n    <Card square elevation={6} className={classes.card}>\n      <CardActions className={classes.cardContent}>\n        {generateFolders()}\n      </CardActions>\n      <CardActions className={classes.cardActions}>\n        <Button className={classes.button} onClick={() => showUser(lastEditor)}>\n          Last Edited\n          By {lastEditor ? lastEditor.username : ''} On {getTime(parentFolders[0].updated_at)}\n        </Button>\n      </CardActions>\n      <CardActions className={classes.cardActions}>\n        <ButtonGroup>\n          <Button className={classes.button} onClick={onCreateFolder}>\n            Create Child Folder\n          </Button>\n          <Button className={classes.button} onClick={onCreateFile}>\n            Upload File\n          </Button>\n          <Button className={classes.button} onClick={onEditFolder}>Edit Folder</Button>\n          {\n            id !== 1\n              ? <Button className={classes.button} onClick={onDeleteFolder}>\n                Delete Folder\n              </Button>\n              : ''\n          }\n        </ButtonGroup>\n      </CardActions>\n    </Card>\n  )\n}\n","import {\n  Button,\n  ButtonGroup,\n  Card,\n  CardActionArea,\n  CardActions,\n  Grid,\n  Typography\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Folder, InsertDriveFile, VisibilityOff } from '@material-ui/icons'\nimport { Link } from 'react-router-dom'\nimport React, { useEffect } from 'react'\nimport { getFile, updateFile, updateFunction } from '../../store/foldersSlice'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getUser, selectUserById } from '../../store/usersSlice'\nimport { getTime } from '../dashboard/UpdateInfo'\n\nconst useStyles = makeStyles({\n  card: {\n    verticalAlign: 'middle',\n    display: 'inline-flex',\n    width: '100%'\n  },\n  cardActionArea: {\n    paddingLeft: '2ch',\n    display: 'flex',\n    flexGrow: 1,\n    width: 'auto'\n  },\n  cardActions: {\n    float: 'left'\n  },\n  button: {\n    textTransform: 'none',\n    fontSize: '1.25rem',\n    width: '100%',\n    whiteSpace: 'nowrap'\n  },\n  typography: {\n    fontSize: '1.25rem'\n  }\n})\n\nexport const ChildInfo = ({\n  folder,\n  data,\n  showUser\n}) => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  const foldersState = useSelector(state => state.folders)\n\n  const onGetFile = () => {\n    dispatch(getFile(data))\n  }\n\n  const onPublish = () => {\n    if (folder || foldersState.entities[data.folder_id].access_level !== 4) return\n\n    dispatch(updateFile({\n      id: data.id,\n      is_published: !data.is_published\n    }))\n  }\n\n  const onEdit = () => {\n    if (folder) {\n      dispatch(updateFunction({\n        type: 'edit',\n        folder: true,\n        entity: data\n      }))\n      return\n    }\n    dispatch(updateFunction({\n      type: 'edit',\n      folder: false,\n      entity: data\n    }))\n  }\n\n  const onDelete = () => {\n    if (folder) {\n      dispatch(updateFunction({\n        type: 'delete',\n        folder: true,\n        ids: {\n          id: data.id,\n          parentFolderID: data.parent_folder_id\n        }\n      }))\n      return\n    }\n    dispatch(updateFunction({\n      type: 'delete',\n      folder: false,\n      ids: {\n        id: data.id,\n        folderID: data.folder_id\n      }\n    }))\n  }\n\n  const lastEditor = useSelector(state => selectUserById(state, data.last_editor_id))\n  const usersState = useSelector(state => state.users)\n  useEffect(() => {\n    if (lastEditor || usersState.loading) return\n\n    dispatch(getUser(data.last_editor_id))\n  }, [lastEditor, data])\n\n  return (\n    <Card variant='outlined' square className={classes.card}>\n      <CardActionArea\n        className={classes.cardActionArea}\n        component={folder ? Link : undefined}\n        to={folder ? '/folders/' + data.id : undefined}\n        onClick={!folder ? onGetFile : undefined}\n      >\n        <Grid container spacing={2} className={classes.grid}>\n          <Grid item>\n            {folder ? <Folder/> : data.is_published ? <InsertDriveFile/> : <VisibilityOff/>}\n          </Grid>\n          <Grid item>\n            <Typography className={classes.typography}>\n              {data.name}\n            </Typography>\n          </Grid>\n        </Grid>\n      </CardActionArea>\n      <CardActions className={classes.cardActions}>\n        <Button className={classes.button} onClick={() => showUser(lastEditor)}>\n          Last Edited By {lastEditor ? lastEditor.username : ''} On {getTime(data.updated_at)}\n        </Button>\n      </CardActions>\n      <CardActions className={classes.cardActions}>\n        <ButtonGroup>\n          {\n            !folder && foldersState.entities[data.folder_id].access_level === 4\n              ? (\n                <Button className={classes.button} onClick={onPublish}>\n                  {data.is_published ? 'Unp' : 'P'}ublish File\n                </Button>)\n              : ''\n          }\n          <Button className={classes.button} onClick={onEdit}>\n            Edit {folder ? 'Folder' : 'File'}\n          </Button>\n          <Button className={classes.button} onClick={onDelete}>\n            Delete {folder ? 'Folder' : 'File'}\n          </Button>\n        </ButtonGroup>\n      </CardActions>\n    </Card>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  LinearProgress,\n  TextField\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  createFile,\n  createFolder,\n  updateFile,\n  updateFolder,\n  updateFunction\n} from '../../store/foldersSlice'\nimport { ErrRequiredFolderName } from '../../store/errors'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles({\n  dialogActions: {\n    justifyContent: 'center'\n  }\n})\n\nexport const EditDialog = () => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  const foldersState = useSelector(state => state.folders)\n\n  const [open, setOpen] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [name, setName] = useState('')\n  const [nameError, setNameError] = useState('')\n  const [fileData, setFileData] = useState(null)\n\n  const onClose = () => {\n    dispatch(updateFunction(null))\n    setOpen(false)\n  }\n\n  const onChange = (e) => {\n    e.preventDefault()\n    setName(e.target.value)\n  }\n\n  const onClick = () => {\n    if (!open || foldersState.function === null) {\n      return\n    }\n\n    if (name === '') {\n      setNameError(ErrRequiredFolderName)\n      return\n    }\n\n    if (foldersState.function.entity !== undefined && name === foldersState.function.entity.name) {\n      setNameError('no changes to name')\n      return\n    }\n\n    setLoading(true)\n    if (foldersState.function.type === 'create') {\n      if (foldersState.function.folder) {\n        dispatch(createFolder({\n          name: name,\n          parent_folder_id: foldersState.function.id\n        }))\n        return\n      }\n\n      if (fileData === null) {\n        setNameError('required file')\n        setLoading(false)\n        return\n      }\n      dispatch(createFile({\n        file: {\n          name: name,\n          folder_id: foldersState.function.id\n        },\n        data: fileData\n      }))\n      return\n    }\n\n    if (foldersState.function.folder) {\n      dispatch(updateFolder({\n        id: foldersState.function.entity.id,\n        name: name\n      }))\n      return\n    }\n\n    dispatch(updateFile({\n      id: foldersState.function.entity.id,\n      name: name\n    }))\n  }\n\n  useEffect(() => {\n    if (open || foldersState.function === null) {\n      return\n    }\n\n    if (foldersState.function.type !== 'create' && foldersState.function.type !== 'edit') {\n      return\n    }\n\n    if (foldersState.function.type === 'edit') {\n      setName(foldersState.function.entity.name)\n    } else {\n      setName('')\n    }\n\n    setOpen(true)\n    setNameError('')\n  }, [foldersState])\n\n  useEffect(() => {\n    if (!open || !loading || foldersState.loading) {\n      return\n    }\n\n    setLoading(false)\n\n    if (foldersState.error) {\n      setNameError(foldersState.error)\n      return\n    }\n\n    onClose()\n  })\n\n  const handleUpload = (e) => {\n    setFileData(e.target.files[0])\n    setName(e.target.files[0].name)\n  }\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogContent>\n        {\n          loading\n            ? <LinearProgress/>\n            : ''\n        }\n        <TextField\n          autoFocus\n          label='Name'\n          type='text'\n          error={nameError !== ''}\n          helperText={nameError}\n          value={name}\n          onChange={onChange}\n        />\n      </DialogContent>\n      {\n        foldersState.function !== null && !foldersState.function.folder && foldersState.function.type === 'create'\n          ? (\n            <DialogActions>\n              <input type='file' onChange={handleUpload}/>\n            </DialogActions>\n            )\n          : ''\n      }\n      <DialogActions className={classes.dialogActions}>\n        <Button onClick={onClick} disabled={loading}>Save</Button>\n        <Button onClick={onClose} color='secondary'>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  LinearProgress\n} from '@material-ui/core'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteFile, deleteFolder, updateFunction } from '../../store/foldersSlice'\n\nexport const DeleteDialog = () => {\n  const dispatch = useDispatch()\n\n  const foldersState = useSelector(state => state.folders)\n\n  const [open, setOpen] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  const onClose = () => {\n    dispatch(updateFunction(null))\n    setOpen(false)\n  }\n\n  const onClick = () => {\n    setLoading(true)\n    if (foldersState.function.folder) {\n      dispatch(deleteFolder(foldersState.function.ids))\n      return\n    }\n    dispatch(deleteFile(foldersState.function.ids))\n  }\n\n  useEffect(() => {\n    if (open || foldersState.function === null || foldersState.function.type !== 'delete') {\n      return\n    }\n\n    setOpen(true)\n    setError('')\n  }, [foldersState])\n\n  useEffect(() => {\n    if (!open || !loading || foldersState.loading) {\n      return\n    }\n\n    setLoading(false)\n    if (foldersState.error) {\n      setError(foldersState.error)\n      return\n    }\n\n    onClose()\n  }, [foldersState])\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogContent>\n        {\n          loading\n            ? <LinearProgress/>\n            : ''\n        }\n        <DialogTitle>\n          Are you sure you want to delete this {foldersState.function === null || foldersState.function.folder ? 'folder' : 'file'}?\n        </DialogTitle>\n        {\n          error\n            ? <DialogContentText>{error}</DialogContentText>\n            : ''\n        }\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClick}>\n          Delete {foldersState.function === null || foldersState.function.folder ? 'Folder' : 'File'}\n        </Button>\n        <Button onClick={onClose} color='secondary'>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { Grid, TextField } from '@material-ui/core'\nimport React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles({\n  textField: {\n    '& .MuiInputBase-root.Mui-disabled': {\n      color: 'black'\n    }\n  }\n})\n\nexport const UserInfo = ({ userData }) => {\n  const classes = useStyles()\n\n  return (\n    <Grid container alignItems='center' direction='column' spacing={3}>\n      <Grid item>\n        <TextField\n          type='text'\n          label='username'\n          disabled\n          value={userData.username}\n          className={classes.textField}\n        />\n      </Grid>\n      <Grid item>\n        <TextField\n          type='text'\n          label='first name'\n          disabled\n          value={userData.first_name}\n          className={classes.textField}\n        />\n      </Grid>\n      <Grid item>\n        <TextField\n          type='text'\n          label='last name'\n          disabled\n          value={userData.last_name}\n          className={classes.textField}\n        />\n      </Grid>\n    </Grid>\n  )\n}\n","import { Button, Dialog, DialogActions, DialogContent } from '@material-ui/core'\nimport { UserInfo } from '../dashboard/UserInfo'\nimport React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles({\n  dialogContent: {\n    overflow: 'clip'\n  }\n})\n\nexport const UserInfoDialog = ({\n  open,\n  onClose,\n  userData\n}) => {\n  const classes = useStyles()\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogContent className={classes.dialogContent}>\n        <UserInfo userData={userData}/>\n      </DialogContent>\n      <DialogActions>\n        <Button color='secondary' onClick={onClose}>Close</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { Card, CardContent, Grid, LinearProgress, Typography } from '@material-ui/core'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\nimport { getFolder, selectFolderById } from '../../store/foldersSlice'\nimport { ErrUserForbidden } from '../../store/errors'\nimport React, { useEffect, useState } from 'react'\nimport { ParentFoldersBar } from './ParentFoldersBar'\nimport { ChildInfo } from './ChildInfo'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { EditDialog } from './EditDialog'\nimport { DeleteDialog } from './DeleteDialog'\nimport { UserInfoDialog } from './UserInfoDialog'\n\nconst useStyles = makeStyles({\n  grid: {\n    padding: '2rem'\n  }\n})\n\nexport const Folder = () => {\n  const classes = useStyles()\n\n  let { id } = useParams()\n  id = parseInt(id)\n\n  const foldersState = useSelector(state => state.folders)\n  const folder = useSelector(state => selectFolderById(state, id))\n\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    if (!foldersState.ids.includes(id) && !foldersState.loading && !foldersState.error) {\n      dispatch(getFolder(id))\n    }\n  }, [id, foldersState])\n\n  const getErrorMessage = () => {\n    if (foldersState.error === ErrUserForbidden) {\n      return 'User forbidden'\n    }\n    if (!foldersState.loading && folder === undefined) {\n      return 'Could not find folder, please check your connection...'\n    }\n    return ''\n  }\n\n  const [userInfoOpen, setUserInfoOpen] = useState(false)\n  const [userData, setUserData] = useState({\n    username: '',\n    first_name: '',\n    last_name: ''\n  })\n  const onShowUser = data => {\n    setUserData(data)\n    setUserInfoOpen(true)\n  }\n\n  const renderContents = () => {\n    if (folder.child_folders.length === 0 && folder.files.length === 0 && !foldersState.loading) {\n      return (\n        <Grid container direction='column' alignItems='center' className={classes.grid}>\n          <Grid item>\n            <Card>\n              <CardContent>\n                <Typography variant='h3'>\n                  No files or child folders present.\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      )\n    }\n\n    return renderChildFoldersAndFiles()\n  }\n\n  const compareChildren = (a, b) => {\n    if (b.name > a.name) {\n      return -1\n    }\n    if (b.name < a.name) {\n      return 1\n    }\n    return 0\n  }\n\n  const renderChildFoldersAndFiles = () => {\n    return (\n      <div>\n        {\n          folder.child_folders.slice()\n            .sort(compareChildren)\n            .map(folder =>\n              <ChildInfo\n                key={folder.id}\n                data={folder}\n                folder\n                showUser={onShowUser}\n              />\n            )\n        }\n        {\n          folder.files.slice()\n            .sort(compareChildren)\n            .map(file =>\n              <ChildInfo\n                key={file.id}\n                data={file}\n                showUser={onShowUser}\n              />\n            )\n        }\n      </div>\n    )\n  }\n\n  const errorMessage = getErrorMessage()\n  if (errorMessage !== '') {\n    return (\n      <Card>\n        <CardContent>\n          <Grid container justify='center'>\n            <Grid item>\n              <Typography variant='h3'>\n                {errorMessage}\n              </Typography>\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <div>\n      <EditDialog/>\n      <DeleteDialog/>\n      <UserInfoDialog open={userInfoOpen} onClose={() => setUserInfoOpen(false)} userData={userData}/>\n      <ParentFoldersBar id={id} showUser={onShowUser}/>\n      {\n        foldersState.loading\n          ? <LinearProgress/>\n          : renderContents()\n      }\n    </div>\n  )\n}\n","import { AppBar, IconButton, Toolbar, Typography } from '@material-ui/core'\nimport { Menu } from '@material-ui/icons'\nimport React from 'react'\n\nexport const NavBar = ({ toggleNavDrawer }) => {\n  return (\n    <div>\n      <AppBar position='fixed' style={{ zIndex: 1251 }}>\n        <Toolbar>\n          <IconButton edge='start' color='inherit' onClick={toggleNavDrawer}>\n            <Menu/>\n          </IconButton>\n          <Typography variant='h6' color='inherit'>\n            Penn SPARK Document Management Service\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  )\n}\n","import { Drawer, List, ListItem, ListItemIcon, ListItemText, Toolbar } from '@material-ui/core'\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd'\nimport SupervisedUserCircleIcon from '@material-ui/icons/SupervisedUserCircle'\nimport { Dashboard, ExitToApp, Folder } from '@material-ui/icons'\nimport { Link } from 'react-router-dom'\nimport React from 'react'\nimport { logoutUser } from '../../store/authSlice'\nimport { clearFolder } from '../../store/foldersSlice'\nimport { clearUsers } from '../../store/usersSlice'\nimport { useDispatch, useSelector } from 'react-redux'\n\nexport const NavDrawer = ({\n  open,\n  onClose\n}) => {\n  const dispatch = useDispatch()\n\n  const authState = useSelector(state => state.auth)\n\n  const logout = () => {\n    dispatch(logoutUser())\n    dispatch(clearFolder())\n    dispatch(clearUsers())\n    onClose()\n  }\n\n  return (\n    <div>\n      <Drawer\n        anchor='left'\n        open={open}\n        onClose={onClose}\n        style={{ zIndex: 1250 }}\n      >\n        <Toolbar/>\n        <List>\n          <ListItem button key='Dashboard' component={Link} to='/' onClick={onClose}>\n            <ListItemIcon><Dashboard/></ListItemIcon>\n            <ListItemText primary='Dashboard'/>\n          </ListItem>\n          <ListItem button key='Filesystem' component={Link} to='/folders/1' onClick={onClose}>\n            <ListItemIcon><Folder/></ListItemIcon>\n            <ListItemText primary='Filesystem'/>\n          </ListItem>\n          {\n            authState.isAuthenticated && authState.userData.is_admin\n              ? (\n                <div>\n                  <ListItem button key='Manage Users' component={Link} to='/users' onClick={onClose}>\n                    <ListItemIcon><SupervisedUserCircleIcon/></ListItemIcon>\n                    <ListItemText primary='Manage Users'/>\n                  </ListItem>\n                  <ListItem button key='Manage User Roles' component={Link} to='/user-roles'\n                            onClick={onClose}>\n                    <ListItemIcon><AssignmentIndIcon/></ListItemIcon>\n                    <ListItemText primary='Manage User Roles'/>\n                  </ListItem>\n                </div>)\n              : ''\n          }\n          <ListItem button key='Logout' onClick={logout}>\n            <ListItemIcon><ExitToApp/></ListItemIcon>\n            <ListItemText primary='Logout'/>\n          </ListItem>\n        </List>\n      </Drawer>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nexport const PrivateRoute = ({\n  component: Component,\n  ...rest\n}) => {\n  const authState = useSelector(state => state.auth)\n\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (!authState.loadStatus) {\n          return ''\n        }\n        return authState.isAuthenticated ? <Component {...props} /> : <Redirect to='/login'/>\n      }}\n    />\n  )\n}\n","import { Button, ButtonGroup, Card, CardActions } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport React from 'react'\n\nconst useStyles = makeStyles({\n  card: {\n    width: '100%',\n    verticalAlign: 'middle',\n    justifyContent: 'center',\n    display: 'inline-flex'\n  },\n  button: {\n    fontSize: '1.25rem',\n    textTransform: 'none'\n  }\n})\n\nexport const CreateUserBar = ({ openEditDialog }) => {\n  const classes = useStyles()\n\n  return (\n    <Card square className={classes.card}>\n      <CardActions>\n        <ButtonGroup>\n          <Button className={classes.button} onClick={() => openEditDialog(true)}>\n            Create New User\n          </Button>\n        </ButtonGroup>\n      </CardActions>\n    </Card>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  Grid,\n  LinearProgress,\n  TextField\n} from '@material-ui/core'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport React, { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n  ErrRequiredFirstName,\n  ErrRequiredLastName,\n  ErrRequiredUserPassword,\n  ErrRequiredUserUsername\n} from '../../store/errors'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { createUser, updateUser } from '../../store/usersSlice'\n\nconst useStyles = makeStyles({\n  dialogActions: {\n    justifyContent: 'center'\n  },\n  grid: {\n    paddingTop: '1rem'\n  },\n  dialogContent: {\n    overflow: 'visible'\n  },\n  dialogContentText: {\n    marginTop: '0.5rem',\n    marginBottom: '0'\n  }\n})\n\nexport const EditUserDialog = ({\n  open,\n  onClose,\n  create,\n  userData\n}) => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  const [newUser, setNewUser] = useState({})\n\n  useEffect(() => {\n    if (!open) return\n\n    if (create) {\n      setNewUser({\n        username: '',\n        first_name: '',\n        last_name: '',\n        password: '',\n        is_admin: false\n      })\n      return\n    }\n\n    setNewUser({\n      id: userData.id,\n      username: userData.username,\n      first_name: userData.first_name,\n      last_name: userData.last_name,\n      is_admin: userData.is_admin\n    })\n  }, [open])\n\n  const [userError, setUserError] = useState('')\n\n  const onChange = (property, value) => {\n    setNewUser({\n      ...newUser,\n      [property]: value\n    })\n  }\n\n  const onSubmit = () => {\n    if (newUser.username === '') {\n      setUserError(ErrRequiredUserUsername)\n      return\n    }\n\n    if (newUser.first_name === '') {\n      setUserError(ErrRequiredFirstName)\n      return\n    }\n\n    if (newUser.last_name === '') {\n      setUserError(ErrRequiredLastName)\n      return\n    }\n\n    if (newUser.password === '') {\n      setUserError(ErrRequiredUserPassword)\n      return\n    }\n\n    setLoading(true)\n    if (create) {\n      dispatch(createUser(newUser))\n      return\n    }\n\n    dispatch(updateUser(newUser))\n  }\n\n  const getUserError = property => {\n    if (property === 'first_name') {\n      if (userError === ErrRequiredFirstName) return userError\n      return ''\n    }\n\n    if (property === 'last_name') {\n      if (userError === ErrRequiredLastName) return userError\n      return ''\n    }\n\n    if (property === 'password') {\n      if (userError === ErrRequiredUserPassword) return userError\n      return ''\n    }\n\n    if (userError === ErrRequiredFirstName || userError === ErrRequiredLastName || userError === ErrRequiredUserPassword) return ''\n    return userError\n  }\n\n  const usersState = useSelector(state => state.users)\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    if (!loading || usersState.loading) return\n\n    setLoading(false)\n    if (!usersState.error) {\n      onClose()\n      return\n    }\n\n    setUserError(usersState.error)\n  }, [usersState])\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogContent className={classes.dialogContent}>\n        {\n          loading\n            ? <LinearProgress/>\n            : ''\n        }\n        <Grid container direction='column'>\n          {\n            Object.keys(newUser)\n              .map(\n                property => (\n                  property === 'id'\n                    ? ''\n                    : (\n                      <Grid item key={property}>\n                        {\n                          property === 'is_admin'\n                            ? (\n                              <Grid container className={classes.grid} spacing={4}>\n                                <Grid item>\n                                  <DialogContentText className={classes.dialogContentText}>\n                                    admin\n                                  </DialogContentText>\n                                </Grid>\n                                <Grid item>\n                                  <Checkbox\n                                    checked={newUser.is_admin}\n                                    onChange={() => onChange('is_admin', !newUser.is_admin)}\n                                  />\n                                </Grid>\n                              </Grid>)\n                            : (\n                              <TextField\n                                label={property.replace('_', ' ')}\n                                type={property === 'password' ? 'password' : 'text'}\n                                value={newUser[property]}\n                                onChange={e => onChange(property, e.target.value)}\n                                helperText={getUserError(property)}\n                                error={getUserError(property) !== ''}\n                              />)\n                        }\n                      </Grid>)\n                )\n              )\n          }\n        </Grid>\n      </DialogContent>\n      <DialogActions className={classes.dialogActions}>\n        <Button onClick={onSubmit}>\n          {create ? 'Create' : 'Edit'} User\n        </Button>\n        <Button color='secondary' onClick={onClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import React from 'react'\nimport {\n  Button,\n  ButtonGroup,\n  Card,\n  CardActions,\n  CardContent,\n  Grid,\n  Typography\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd'\nimport { useDispatch } from 'react-redux'\nimport { removeUserRole } from '../../store/usersSlice'\n\nconst useStyles = makeStyles({\n  card: {\n    verticalAlign: 'middle',\n    display: 'inline-flex',\n    width: '100%'\n  },\n  cardActionArea: {\n    paddingLeft: '2ch',\n    display: 'flex',\n    flexGrow: 1,\n    width: 'auto'\n  },\n  cardActions: {\n    float: 'left'\n  },\n  button: {\n    textTransform: 'none',\n    fontSize: '1.25rem',\n    width: '100%',\n    whiteSpace: 'nowrap'\n  },\n  typography: {\n    fontSize: '1.25rem'\n  }\n})\n\nexport const UserRoleInfo = ({\n  userRoleData,\n  userData\n}) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const onClick = () => {\n    dispatch(removeUserRole({\n      userID: userData.id,\n      userRole: userRoleData\n    }))\n  }\n\n  return (\n    <Grid item>\n      <Card variant='outlined' square className={classes.card}>\n        <CardContent\n          className={classes.cardActionArea}\n        >\n          <Grid container spacing={2} className={classes.grid}>\n            <Grid item>\n              <AssignmentIndIcon/>\n            </Grid>\n            <Grid item>\n              <Typography className={classes.typography}>\n                {userRoleData.name}\n              </Typography>\n            </Grid>\n          </Grid>\n        </CardContent>\n        <CardActions className={classes.cardActions}>\n          <ButtonGroup>\n            <Button className={classes.button} onClick={onClick}>\n              Remove User Role\n            </Button>\n          </ButtonGroup>\n        </CardActions>\n      </Card>\n    </Grid>\n  )\n}\n","import {\n  Accordion,\n  AccordionActions,\n  AccordionSummary,\n  Button,\n  ButtonGroup,\n  Grid,\n  Typography\n} from '@material-ui/core'\nimport React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { UserRoleInfo } from './UserRoleInfo'\nimport { AccountCircle, SupervisedUserCircle } from '@material-ui/icons'\nimport { useSelector } from 'react-redux'\n\nconst useStyles = makeStyles({\n  grid: {\n    display: 'flex',\n    flexGrow: 1,\n    width: 'auto',\n    paddingLeft: '1.25rem',\n    paddingTop: '0.5rem'\n  },\n  buttonGroup: {\n    float: 'left'\n  },\n  button: {\n    fontSize: '1.25rem',\n    textTransform: 'none'\n  },\n  typography: {\n    fontSize: '1.25rem'\n  }\n})\n\nexport const UserInfo = ({\n  userData,\n  openAdd,\n  openEdit,\n  openPassword,\n  openDelete\n}) => {\n  const classes = useStyles()\n\n  const authState = useSelector(state => state.auth)\n\n  const addUserRole = e => {\n    e.stopPropagation()\n    openAdd(userData)\n  }\n\n  const editUser = e => {\n    e.stopPropagation()\n    openEdit(false, userData)\n  }\n\n  const changePassword = e => {\n    e.stopPropagation()\n    openPassword(false, userData)\n  }\n\n  const deleteUser = e => {\n    e.stopPropagation()\n    openDelete(userData)\n  }\n\n  return (\n    <Accordion square>\n      <AccordionSummary>\n        <Grid container spacing={2} className={classes.grid}>\n          <Grid item>\n            {\n              userData.is_admin\n                ? <SupervisedUserCircle/>\n                : <AccountCircle/>\n            }\n          </Grid>\n          <Grid item>\n            <Typography\n              className={classes.typography}>{userData.username} ({userData.first_name} {userData.last_name})</Typography>\n          </Grid>\n        </Grid>\n        <ButtonGroup className={classes.buttonGroup}>\n          <Button className={classes.button} onClick={addUserRole}>\n            Add User Role\n          </Button>\n          <Button className={classes.button} onClick={editUser}>\n            Edit User\n          </Button>\n          <Button className={classes.button} onClick={changePassword}>\n            Change Password\n          </Button>\n          {\n            userData.id === 1 || userData.id === authState.userData.id\n              ? ''\n              : (\n                <Button className={classes.button} onClick={deleteUser}>\n                  Delete User\n                </Button>)\n          }\n\n        </ButtonGroup>\n      </AccordionSummary>\n      <AccordionActions>\n        <Grid container direction='column'>\n          {\n            userData.user_roles.map(\n              userRole => <UserRoleInfo\n                key={userRole.id}\n                userRoleData={userRole}\n                userData={userData}\n              />\n            )\n          }\n        </Grid>\n      </AccordionActions>\n    </Accordion>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Grid,\n  LinearProgress,\n  TextField\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ErrRequiredUserPassword } from '../../store/errors'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { updateUser } from '../../store/usersSlice'\n\nconst useStyles = makeStyles({\n  dialogActions: {\n    justifyContent: 'center'\n  }\n})\n\nexport const ChangePasswordDialog = ({\n  open,\n  onClose,\n  id\n}) => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  const usersState = useSelector(state => state.users)\n\n  const [loading, setLoading] = useState(false)\n  const [password, setPassword] = useState('')\n  const [confirmPassword, setConfirmPassword] = useState('')\n  const [passwordError, setPasswordError] = useState('')\n  const [confirmPasswordError, setConfirmPasswordError] = useState('')\n\n  const onClick = (e) => {\n    e.preventDefault()\n    if (password === '') {\n      setPasswordError(ErrRequiredUserPassword)\n\n      return\n    }\n    setPasswordError('')\n\n    if (password !== confirmPassword) {\n      setConfirmPasswordError('passwords do not match')\n      return\n    }\n    setConfirmPasswordError('')\n\n    setLoading(true)\n    dispatch(updateUser({\n      id: id,\n      is_admin: true,\n      password: password\n    }))\n  }\n\n  useEffect(() => {\n    if (!loading || usersState.loading) return\n\n    setLoading(false)\n    if (usersState.error) {\n      setPasswordError(usersState.error)\n      return\n    }\n\n    onClose()\n  }, [usersState, loading])\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogContent>\n        {\n          loading\n            ? <LinearProgress/>\n            : ''\n        }\n        <Grid container direction='column' spacing={2}>\n          <Grid item>\n            <TextField\n              autoFocus\n              label='new password'\n              type='password'\n              error={passwordError !== ''}\n              helperText={passwordError}\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n            />\n          </Grid>\n          <Grid item>\n            <TextField\n              label='confirm password'\n              type='password'\n              error={confirmPasswordError !== ''}\n              helperText={confirmPasswordError}\n              value={confirmPassword}\n              onChange={e => setConfirmPassword(e.target.value)}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions className={classes.dialogActions}>\n        <Button onClick={onClick} disabled={loading}>Save</Button>\n        <Button onClick={onClose} color='secondary'>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  LinearProgress\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteUser } from '../../store/usersSlice'\n\nexport const DeleteUserDialog = ({\n  open,\n  onClose,\n  id\n}) => {\n  const dispatch = useDispatch()\n  const usersState = useSelector(state => state.users)\n\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  const onClick = () => {\n    setLoading(true)\n\n    console.log(id)\n    dispatch(deleteUser(id))\n  }\n\n  useEffect(() => {\n    if (!loading || usersState.loading) return\n\n    setLoading(false)\n    if (!usersState.error) {\n      onClose()\n      return\n    }\n\n    setError(usersState.error)\n  }, [usersState])\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogContent>\n        {\n          loading\n            ? <LinearProgress/>\n            : ''\n        }\n        <DialogTitle>\n          Are you sure you want to delete this user?\n        </DialogTitle>\n        {\n          error\n            ? <DialogContentText>{error}</DialogContentText>\n            : ''\n        }\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClick}>\n          Delete User\n        </Button>\n        <Button onClick={onClose} color='secondary'>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { createAsyncThunk, createEntityAdapter, createSlice } from '@reduxjs/toolkit'\nimport axios from 'axios'\nimport API_ROUTE from '../apiRoute'\nimport { ErrNetworkErr } from './errors'\nimport { onError, toggleLoad } from './util'\n\nconst userRolesAdapter = createEntityAdapter({\n  sortComparer: (a, b) => {\n    if (a.id > b.id) {\n      return -1\n    }\n    if (a.id < b.id) {\n      return 1\n    }\n    return 0\n  }\n})\n\nconst initialState = userRolesAdapter.getInitialState({\n  loadedData: false\n})\n\nexport const createUserRole = createAsyncThunk(\n  'userRole/createUser',\n  async (userRole, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.post(`${API_ROUTE}/user-roles`, userRole)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const getUserRoles = createAsyncThunk(\n  'userRole/getUserRoles',\n  async (_, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.get(`${API_ROUTE}/user-roles`)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const updateUserRole = createAsyncThunk(\n  'userRole/updateUserRole',\n  async (userRole, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.put(`${API_ROUTE}/user-roles/${userRole.id}`, userRole)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const deleteUserRole = createAsyncThunk(\n  'userRole/deleteUserRole',\n  async (userRoleID, {\n    rejectWithValue\n  }) => {\n    try {\n      await axios.delete(`${API_ROUTE}/user-roles/${userRoleID}`)\n      return userRoleID\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const addAccessRole = createAsyncThunk(\n  'userRole/addAccessRole',\n  async (accessRole, {\n    rejectWithValue\n  }) => {\n    try {\n      const response = await axios.post(`${API_ROUTE}/access-roles`, accessRole)\n      return response.data\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nexport const removeAccessRole = createAsyncThunk(\n  'userRole/removeAccessRole',\n  async (accessRole, {\n    rejectWithValue\n  }) => {\n    try {\n      await axios.delete(`${API_ROUTE}/access-roles/${accessRole.id}`)\n      return accessRole\n    } catch (err) {\n      if (err.response === undefined) {\n        return rejectWithValue(ErrNetworkErr)\n      }\n      return rejectWithValue(err.response.data.error)\n    }\n  }\n)\n\nconst userRolesSlice = createSlice({\n  name: 'userRoles',\n  initialState,\n  reducers: {\n    clearUserRoles: state => {\n      userRolesAdapter.removeAll(state)\n      state.error = null\n      state.loadedData = false\n    }\n  },\n  extraReducers: {\n    [createUserRole.pending]: toggleLoad,\n    [createUserRole.fulfilled]: (state, action) => {\n      state.loading = false\n      userRolesAdapter.upsertOne(state, action.payload)\n    },\n    [createUserRole.rejected]: onError,\n    [getUserRoles.pending]: toggleLoad,\n    [getUserRoles.fulfilled]: (state, action) => {\n      state.loading = false\n      state.loadedData = true\n      userRolesAdapter.upsertMany(state, action.payload)\n    },\n    [getUserRoles.rejected]: onError,\n    [updateUserRole.pending]: toggleLoad,\n    [updateUserRole.fulfilled]: (state, action) => {\n      state.loading = false\n      userRolesAdapter.upsertOne(state, action.payload)\n    },\n    [updateUserRole.rejected]: onError,\n    [deleteUserRole.pending]: toggleLoad,\n    [deleteUserRole.fulfilled]: (state, action) => {\n      state.loading = false\n      userRolesAdapter.removeOne(state, action.payload)\n    },\n    [deleteUserRole.rejected]: onError,\n    [addAccessRole.pending]: toggleLoad,\n    [addAccessRole.fulfilled]: (state, action) => {\n      state.loading = false\n      const userRole = state.entities[action.payload.user_role_id]\n      userRole.access_roles.push(action.payload)\n    },\n    [addAccessRole.rejected]: onError,\n    [removeAccessRole.pending]: toggleLoad,\n    [removeAccessRole.fulfilled]: (state, action) => {\n      state.loading = false\n      const userRole = state.entities[action.payload.user_role_id]\n      userRole.access_roles = userRole.access_roles.filter(role => role.id !== action.payload.id)\n    },\n    [removeAccessRole.rejected]: onError\n  }\n})\n\nexport const { clearUserRoles } = userRolesSlice.actions\nexport default userRolesSlice.reducer\n\nexport const {\n  selectById: selectUserRoleById\n} = userRolesAdapter.getSelectors(state => state.userRoles)\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  LinearProgress,\n  MenuItem,\n  Select\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getUserRoles } from '../../store/userRolesSlice'\nimport { addUserRole } from '../../store/usersSlice'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ErrRequiredUserRoleName } from '../../store/errors'\n\nconst useStyles = makeStyles({\n  formControl: {\n    minWidth: 150\n  },\n  dialogActions: {\n    justifyContent: 'center'\n  }\n})\n\nexport const AddUserRoleDialog = ({\n  open,\n  onClose,\n  userData\n}) => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  const usersState = useSelector(state => state.users)\n  const userRolesState = useSelector(state => state.userRoles)\n\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    if (userRolesState.loadedData) return\n\n    if (userRolesState.loading) return\n\n    if (loading) {\n      setLoading(false)\n      return\n    }\n\n    setLoading(true)\n    dispatch(getUserRoles(null))\n  }, [userRolesState, loading])\n\n  const [userRole, setUserRole] = useState('')\n  const [error, setError] = useState('')\n\n  const onClick = () => {\n    if (userRole === null) {\n      setError(ErrRequiredUserRoleName)\n      return\n    }\n\n    if (userData.user_roles.filter(role => role.id === userRole).length > 0) {\n      setError('user already has user role')\n      return\n    }\n\n    setLoading(true)\n    dispatch(addUserRole({\n      userID: userData.id,\n      userRole: { id: userRole }\n    }))\n  }\n\n  useEffect(() => {\n    if (!loading || usersState.loading) return\n\n    setLoading(false)\n    if (!usersState.error) {\n      onClose()\n      return\n    }\n\n    setError(usersState.error)\n  })\n\n  useEffect(() => {\n    setError('')\n  }, [open])\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      {\n        loading\n          ? <DialogContent>\n            <LinearProgress/>\n          </DialogContent>\n          : ''\n      }\n      <DialogActions className={classes.dialogActions}>\n        <FormControl className={classes.formControl}>\n          <InputLabel>User Role</InputLabel>\n          <Select\n            value={userRole}\n            onChange={e => setUserRole(e.target.value)}\n            error={error !== ''}\n          >\n            {\n              Object.values(userRolesState.entities)\n                .map(userRole =>\n                  <MenuItem key={userRole.id} value={userRole.id}>{userRole.name}</MenuItem>\n                )\n            }\n          </Select>\n          {\n            error\n              ? <FormHelperText>{error}</FormHelperText>\n              : ''\n          }\n        </FormControl>\n      </DialogActions>\n      <DialogActions>\n        <Button onClick={onClick}>\n          Add User Role\n        </Button>\n        <Button color='secondary' onClick={onClose}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import { useDispatch, useSelector } from 'react-redux'\nimport React, { useEffect, useState } from 'react'\nimport { getUsers } from '../../store/usersSlice'\nimport {\n  FormControl,\n  InputLabel,\n  LinearProgress,\n  makeStyles,\n  MenuItem,\n  Select,\n  Table,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  TextField\n} from '@material-ui/core'\nimport { CreateUserBar } from './CreateUserBar'\nimport { EditUserDialog } from './EditUserDialog'\nimport { UserInfo } from './UserInfo'\nimport { ChangePasswordDialog } from './ChangePasswordDialog'\nimport { DeleteUserDialog } from './DeleteUserDialog'\nimport { AddUserRoleDialog } from './AddUserRoleDialog'\n\nconst columns = [\n  {\n    field: 'username',\n    headerName: 'username',\n    width: 150\n  },\n  {\n    field: 'first_name',\n    headerName: 'first name',\n    width: 150\n  },\n  {\n    field: 'last_name',\n    headerName: 'last name',\n    width: 150\n  },\n  {\n    field: 'is_admin',\n    headerName: 'admin',\n    width: 150\n  }\n]\n\nconst useStyles = makeStyles({\n  div: {\n    width: '100%',\n    height: '100%',\n    position: 'fixed'\n  },\n  select: {\n    minWidth: 150\n  }\n})\n\nexport const Users = () => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n  const usersState = useSelector(state => state.users)\n\n  const [loading, setLoading] = useState(false)\n\n  const [filterUser, setFilterUser] = useState({})\n  const [users, setUsers] = useState([])\n\n  const handleRequestFilter = (property, value) => {\n    const user = { ...filterUser }\n    if (value === '') {\n      delete user[property]\n    } else {\n      user[property] = value.toString()\n    }\n    setFilterUser(user)\n  }\n\n  useEffect(() => {\n    setUsers(Object.values(usersState.entities)\n      .filter(user => {\n        for (const [key, value] of Object.entries(filterUser)) {\n          if (!user[key].toString()\n            .toLowerCase()\n            .includes(value)) {\n            return false\n          }\n        }\n        return true\n      }))\n  }, [usersState, filterUser])\n\n  useEffect(() => {\n    if (loading) {\n      if (usersState.loadedData) setLoading(false)\n      return\n    }\n\n    if (usersState.loadedData) return\n\n    setLoading(true)\n    dispatch(getUsers(null))\n  }, [usersState])\n\n  const [openEditDialog, setOpenEditDialog] = useState(false)\n  const [create, setCreate] = useState(false)\n  const [userData, setUserData] = useState(null)\n\n  const openEdit = (create, data) => {\n    setCreate(create)\n    setOpenEditDialog(true)\n    if (create) return\n\n    setUserData(data)\n  }\n\n  const [openPasswordDialog, setOpenPasswordDialog] = useState(false)\n  const openPassword = data => {\n    setUserData(data)\n    setOpenPasswordDialog(true)\n  }\n\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false)\n  const openDelete = data => {\n    setUserData(data)\n    setOpenDeleteDialog(true)\n  }\n\n  const [openAddDialog, setOpenAddDialog] = useState(false)\n  const openAdd = data => {\n    setUserData(data)\n    setOpenAddDialog(true)\n  }\n\n  return (\n    <div className={classes.div}>\n      <EditUserDialog\n        open={openEditDialog}\n        onClose={() => setOpenEditDialog(false)}\n        create={create}\n        userData={userData}\n      />\n      <ChangePasswordDialog\n        open={openPasswordDialog}\n        onClose={() => setOpenPasswordDialog(false)}\n        id={userData ? userData.id : 0}\n      />\n      <DeleteUserDialog\n        open={openDeleteDialog}\n        onClose={() => setOpenDeleteDialog(false)}\n        id={userData ? userData.id : 0}\n      />\n      <AddUserRoleDialog\n        open={openAddDialog}\n        onClose={() => setOpenAddDialog(false)}\n        userData={userData}\n      />\n      {\n        loading\n          ? <LinearProgress/>\n          : ''\n      }\n      <CreateUserBar openEditDialog={openEdit}/>\n      <TableContainer>\n        <Table>\n          <TableHead>\n            <TableRow>\n              {\n                columns.map(column => (\n                  <TableCell\n                    key={column.field}\n                    align='center'\n                  >\n                    {\n                      column.field === 'is_admin'\n                        ? (\n                          <FormControl>\n                            <InputLabel>Admin</InputLabel>\n                            <Select className={classes.select} onChange={e => handleRequestFilter(column.field, e.target.value)}>\n                              <MenuItem value=''>all</MenuItem>\n                              <MenuItem value='true'>true</MenuItem>\n                              <MenuItem value='false'>false</MenuItem>\n                            </Select>\n                          </FormControl>)\n                        : (\n                          <TextField\n                            label={'search by ' + column.headerName}\n                            onChange={e => handleRequestFilter(column.field, e.target.value.toLowerCase())}\n                          />)\n                    }\n                  </TableCell>\n                ))\n              }\n            </TableRow>\n          </TableHead>\n        </Table>\n      </TableContainer>\n      {\n        users.map(user =>\n          <UserInfo\n            key={user.id}\n            userData={user}\n            openEdit={openEdit}\n            openPassword={openPassword}\n            openDelete={openDelete}\n            openAdd={openAdd}\n          />)\n      }\n    </div>\n  )\n}\n","import { Button, ButtonGroup, Card, CardActions, CardContent, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\nimport React from 'react'\n\nconst useStyles = makeStyles({\n  card: {\n    width: '100%',\n    justifyContent: 'left',\n    display: 'inline-flex'\n  },\n  cardContent: {\n    display: 'flex',\n    flexGrow: 1,\n    width: 'auto',\n    paddingLeft: '1.25rem'\n  },\n  cardActions: {\n    float: 'left'\n  },\n  button: {\n    fontSize: '1.25rem',\n    textTransform: 'none'\n  }\n})\n\nexport const UserRolesBar = ({\n  searchTerm,\n  setSearchTerm,\n  openEdit\n}) => {\n  const classes = useStyles()\n\n  return (\n    <div>\n      <Card square className={classes.card}>\n        <CardContent className={classes.cardContent}>\n          <TextField\n            label='user role search term'\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value.toLowerCase())}\n          />\n        </CardContent>\n        <CardActions className={classes.cardActions}>\n          <ButtonGroup>\n            <Button className={classes.button} onClick={() => openEdit(true)}>\n              Create New User Role\n            </Button>\n          </ButtonGroup>\n        </CardActions>\n      </Card>\n    </div>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  Button,\n  ButtonGroup,\n  Card,\n  CardActions,\n  CardContent,\n  Grid,\n  Typography\n} from '@material-ui/core'\nimport { Folder } from '@material-ui/icons'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getFolder } from '../../store/foldersSlice'\nimport { removeAccessRole } from '../../store/userRolesSlice'\n\nconst useStyles = makeStyles({\n  card: {\n    verticalAlign: 'middle',\n    display: 'inline-flex',\n    width: '100%'\n  },\n  cardActionArea: {\n    paddingLeft: '2ch',\n    display: 'flex',\n    flexGrow: 1,\n    width: 'auto'\n  },\n  cardActions: {\n    float: 'left'\n  },\n  button: {\n    textTransform: 'none',\n    fontSize: '1.25rem',\n    width: '100%',\n    whiteSpace: 'nowrap'\n  },\n  typography: {\n    fontSize: '1.25rem'\n  }\n})\n\nexport const accessLevels = ['Unset', 'None', 'Viewer', 'Uploader', 'Publisher']\n\nexport const AccessRoleInfo = ({ accessRoleData }) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n\n  const foldersState = useSelector(state => state.folders)\n\n  const [path, setPath] = useState('')\n\n  useEffect(() => {\n    if (path !== '') return\n\n    if (foldersState.loading) return\n\n    let id = accessRoleData.folder_id\n    let count = 0\n    let currentPath = ''\n    while (id !== 0) {\n      if (!foldersState.ids.includes(id)) {\n        dispatch(getFolder(accessRoleData.folder_id))\n        return\n      }\n\n      if (count < 3) {\n        currentPath = (foldersState.entities[id].parent_folder_id === 0 ? '' : ' / ') + foldersState.entities[id].name + currentPath\n      }\n      id = foldersState.entities[id].parent_folder_id\n      count++\n    }\n\n    if (count >= 3) {\n      currentPath = foldersState.entities[id].name + ' / ...' + currentPath\n    }\n    setPath(currentPath)\n  }, [foldersState])\n\n  const onRemove = () => {\n    dispatch(removeAccessRole(accessRoleData))\n  }\n\n  return (\n    <Grid item>\n      <Card variant='outlined' square className={classes.card}>\n        <CardContent\n          className={classes.cardActionArea}\n        >\n          <Grid container spacing={2} className={classes.grid}>\n            <Grid item>\n              <Folder/>\n            </Grid>\n            <Grid item>\n              <Typography className={classes.typography}>\n                {path} ({accessLevels[accessRoleData.access_level]})\n              </Typography>\n            </Grid>\n          </Grid>\n        </CardContent>\n        {\n          accessRoleData.id === 1\n            ? ''\n            : (\n              <CardActions className={classes.cardActions}>\n              <ButtonGroup>\n                <Button className={classes.button} onClick={onRemove}>\n                  Remove Access Role\n                </Button>\n              </ButtonGroup>\n            </CardActions>)\n        }\n\n      </Card>\n    </Grid>\n  )\n}\n","import {\n  Accordion,\n  AccordionActions,\n  AccordionSummary,\n  Button,\n  ButtonGroup,\n  Grid,\n  Typography\n} from '@material-ui/core'\nimport React from 'react'\nimport { AccessRoleInfo } from './AccessRoleInfo'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd'\n\nconst useStyles = makeStyles({\n  grid: {\n    display: 'flex',\n    flexGrow: 1,\n    width: 'auto',\n    paddingLeft: '1.25rem',\n    paddingTop: '0.5rem'\n  },\n  buttonGroup: {\n    float: 'left'\n  },\n  button: {\n    fontSize: '1.25rem',\n    textTransform: 'none'\n  },\n  typography: {\n    fontSize: '1.25rem'\n  }\n})\n\nexport const UserRoleInfo = ({\n  userRoleData,\n  openEdit,\n  openDelete,\n  openAdd\n}) => {\n  const classes = useStyles()\n\n  const createNewAccessRole = e => {\n    e.stopPropagation()\n    openAdd(userRoleData)\n  }\n\n  const editUserRole = e => {\n    e.stopPropagation()\n    openEdit(false, userRoleData)\n  }\n\n  const deleteUserRole = e => {\n    e.stopPropagation()\n    openDelete(userRoleData.id)\n  }\n\n  return (\n    <Accordion square>\n      <AccordionSummary>\n        <Grid container spacing={2} className={classes.grid}>\n          <Grid item>\n            <AssignmentIndIcon/>\n          </Grid>\n          <Grid item>\n            <Typography className={classes.typography}>{userRoleData.name}</Typography>\n          </Grid>\n        </Grid>\n        <ButtonGroup className={classes.buttonGroup}>\n          <Button className={classes.button} onClick={createNewAccessRole}>\n            Create New Access Role\n          </Button>\n          <Button className={classes.button} onClick={editUserRole}>\n            Edit User Role\n          </Button>\n          {\n            userRoleData.id === 1\n              ? ''\n              : (\n                <Button className={classes.button} onClick={deleteUserRole}>\n                  Delete User Role\n                </Button>)\n          }\n        </ButtonGroup>\n      </AccordionSummary>\n      <AccordionActions>\n        <Grid container direction='column'>\n          {\n            userRoleData.access_roles.map(\n              accessRole => <AccessRoleInfo key={accessRole.id} accessRoleData={accessRole}/>\n            )\n          }\n        </Grid>\n      </AccordionActions>\n    </Accordion>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  LinearProgress,\n  TextField\n} from '@material-ui/core'\nimport { useDispatch, useSelector } from 'react-redux'\nimport React, { useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { ErrRequiredUserRoleName } from '../../store/errors'\nimport { createUserRole, updateUserRole } from '../../store/userRolesSlice'\n\nconst useStyles = makeStyles({\n  dialogActions: {\n    justifyContent: 'center'\n  },\n  grid: {\n    paddingTop: '1rem'\n  },\n  dialogContent: {\n    overflow: 'visible'\n  },\n  dialogContentText: {\n    marginTop: '0.5rem',\n    marginBottom: '0'\n  }\n})\n\nexport const EditUserRoleDialog = ({\n  open,\n  setOpen,\n  create,\n  userRoleData\n}) => {\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  const userRolesState = useSelector(state => state.userRoles)\n\n  const [name, setName] = useState('')\n  const [error, setError] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const onSubmit = () => {\n    if (name === '') {\n      setError(ErrRequiredUserRoleName)\n      return\n    }\n\n    setLoading(true)\n    if (create) {\n      dispatch(createUserRole({\n        name: name\n      }))\n      return\n    }\n    dispatch(updateUserRole({\n      id: userRoleData.id,\n      name: name\n    }))\n  }\n\n  useEffect(() => {\n    if (!loading || userRolesState.loading) return\n\n    setLoading(false)\n    if (userRolesState.error) {\n      setError(userRolesState.error)\n      return\n    }\n\n    setOpen(false)\n  })\n\n  useEffect(() => {\n    if (!open) return\n\n    setName(create ? '' : userRoleData.name)\n  }, [open, create, userRoleData])\n\n  return (\n    <Dialog open={open} onClose={() => setOpen(false)}>\n      <DialogContent className={classes.dialogContent}>\n        {\n          loading\n            ? <LinearProgress/>\n            : ''\n        }\n        <TextField\n          autoFocus\n          label='name'\n          type='text'\n          value={name}\n          onChange={e => setName(e.target.value)}\n          helperText={error}\n          error={error !== ''}\n        />\n      </DialogContent>\n      <DialogActions className={classes.dialogActions}>\n        <Button onClick={onSubmit}>\n          {create ? 'Create' : 'Edit'} User Role\n        </Button>\n        <Button color='secondary' onClick={() => setOpen(false)}>\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  LinearProgress\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteUserRole } from '../../store/userRolesSlice'\n\nexport const DeleteUserRoleDialog = ({\n  open,\n  onClose,\n  id\n}) => {\n  const dispatch = useDispatch()\n  const userRolesState = useSelector(state => state.userRoles)\n\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState('')\n\n  const onClick = () => {\n    setLoading(true)\n\n    dispatch(deleteUserRole(id))\n  }\n\n  useEffect(() => {\n    if (!loading || userRolesState.loading) return\n\n    setLoading(false)\n    if (!userRolesState.error) {\n      onClose()\n      return\n    }\n\n    setError(userRolesState.error)\n  }, [userRolesState])\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogContent>\n        {\n          loading\n            ? <LinearProgress/>\n            : ''\n        }\n        <DialogTitle>\n          Are you sure you want to delete this user role?\n        </DialogTitle>\n        {\n          error\n            ? <DialogContentText>{error}</DialogContentText>\n            : ''\n        }\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClick}>\n          Delete User Role\n        </Button>\n        <Button onClick={onClose} color='secondary'>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  Divider,\n  FormControl,\n  FormHelperText,\n  InputLabel,\n  LinearProgress,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  MenuItem,\n  Select\n} from '@material-ui/core'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getFolder } from '../../store/foldersSlice'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Folder } from '@material-ui/icons'\nimport { addAccessRole } from '../../store/userRolesSlice'\nimport { ErrRequiredAccessLevel } from '../../store/errors'\nimport { accessLevels } from './AccessRoleInfo'\n\nconst useStyles = makeStyles({\n  dialog: {\n    width: '100%',\n    height: 'auto'\n  },\n  dialogActions: {\n    justifyContent: 'left'\n  },\n  form: {\n    justifyContent: 'center'\n  },\n  button: {\n    textTransform: 'none',\n    '&:disabled': { color: 'black' }\n  },\n  formControl: {\n    minWidth: 150\n  }\n})\n\nexport const AddAccessRoleDialog = ({\n  open,\n  onClose,\n  userRoleData\n}) => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const foldersState = useSelector(state => state.folders)\n\n  const [loading, setLoading] = useState(false)\n  const [folder, setFolder] = useState(null)\n  const [error, setError] = useState('')\n\n  const loadFolder = id => {\n    if (foldersState.ids.includes(id)) {\n      setFolder(foldersState.entities[id])\n      return\n    }\n\n    setFolder({\n      id: id,\n      name: '',\n      child_folders: []\n    })\n    setLoading(true)\n    dispatch(getFolder(id))\n  }\n\n  useEffect(() => {\n    if (!open) return\n\n    loadFolder(1)\n  }, [open])\n\n  useEffect(() => {\n    if (!loading || foldersState.loading) return\n\n    setLoading(false)\n    if (foldersState.error) {\n      setError(foldersState.error)\n      return\n    }\n\n    if (folder.name === '') {\n      setFolder(foldersState.entities[folder.id])\n      return\n    }\n\n    onClose()\n  }, [loading, foldersState])\n\n  const [accessLevel, setAccessLevel] = useState('')\n\n  const onSubmit = () => {\n    if (accessLevel === '') {\n      setError(ErrRequiredAccessLevel)\n    }\n    setLoading(true)\n    dispatch(addAccessRole({\n      user_role_id: userRoleData.id,\n      folder_id: folder.id,\n      access_level: accessLevel\n    }))\n  }\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      {\n        loading\n          ? <LinearProgress/>\n          : ''\n      }\n      {\n        folder\n          ? <div>\n            <DialogActions className={classes.dialogActions}>\n              {\n                folder.name !== '' && folder.parent_folder_id !== 0\n                  ? <Button\n                    className={classes.button}\n                    onClick={() => loadFolder(folder.parent_folder_id)}\n                  >{foldersState.entities[folder.parent_folder_id].name}</Button>\n                  : ''\n              }\n              {\n                folder.parent_folder_id !== 0\n                  ? <Button disabled className={classes.button}>/</Button>\n                  : ''\n              }\n              <Button className={classes.button} disabled>{folder.name}</Button>\n            </DialogActions>\n            <DialogContent>\n              <Divider/>\n            </DialogContent>\n            <DialogActions className={classes.dialogActions}>\n              <List>\n                {\n                  folder.child_folders.map(folder => (\n                    <ListItem button key={folder.id} onClick={() => loadFolder(folder.id)}>\n                      <ListItemIcon><Folder/></ListItemIcon>\n                      <ListItemText primary={folder.name}/>\n                    </ListItem>\n                  ))\n                }\n              </List>\n            </DialogActions>\n          </div>\n          : ''\n      }\n      <DialogActions className={classes.form}>\n        <FormControl className={classes.formControl}>\n          <InputLabel>Access Level</InputLabel>\n          <Select\n            value={accessLevel}\n            onChange={e => setAccessLevel(e.target.value)}\n            error={error !== ''}\n          >\n            {\n              accessLevels.map((level, index) =>\n                <MenuItem key={index} value={index}>{level}</MenuItem>)\n            }\n          </Select>\n          {\n            error\n              ? <FormHelperText>{error}</FormHelperText>\n              : ''\n          }\n        </FormControl>\n      </DialogActions>\n      <DialogActions>\n        <Button onClick={onSubmit}>\n          Add Access Role\n        </Button>\n        <Button onClick={onClose} color='secondary'>Cancel</Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getUserRoles } from '../../store/userRolesSlice'\nimport { UserRolesBar } from './UserRolesBar'\nimport { UserRoleInfo } from './UserRoleInfo'\nimport { EditUserRoleDialog } from './EditUserRoleDialog'\nimport { DeleteUserRoleDialog } from './DeleteUserRoleDialog'\nimport { AddAccessRoleDialog } from './AddAccessRoleDialog'\n\nexport const UserRoles = () => {\n  const dispatch = useDispatch()\n  const userRolesState = useSelector(state => state.userRoles)\n\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    if (userRolesState.loading) return\n\n    if (loading) {\n      setLoading(false)\n      return\n    }\n\n    if (userRolesState.loadedData) return\n\n    setLoading(true)\n    dispatch(getUserRoles(null))\n  }, [userRolesState])\n\n  const [searchTerm, setSearchTerm] = useState('')\n  const [userRoles, setUserRoles] = useState([])\n\n  useEffect(() => {\n    setUserRoles(Object.values(userRolesState.entities)\n      .filter(userRole => userRole.name.toLowerCase()\n        .includes(searchTerm)))\n  }, [searchTerm, userRolesState])\n\n  const [create, setCreate] = useState(false)\n  const [userRoleData, setUserRoleData] = useState(null)\n  const [openEditDialog, setOpenEditDialog] = useState(false)\n\n  const openEdit = (create, userRoleData) => {\n    setCreate(create)\n    setUserRoleData(userRoleData)\n    setOpenEditDialog(true)\n  }\n\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false)\n  const [deleteID, setDeleteID] = useState(null)\n\n  const openDelete = id => {\n    setOpenDeleteDialog(true)\n    setDeleteID(id)\n  }\n\n  const [openAddDialog, setOpenAddDialog] = useState(false)\n  const openAdd = data => {\n    setUserRoleData(data)\n    setOpenAddDialog(true)\n  }\n\n  return (\n    <div>\n      <EditUserRoleDialog open={openEditDialog} setOpen={setOpenEditDialog} create={create}\n                          userRoleData={userRoleData}/>\n      <DeleteUserRoleDialog open={openDeleteDialog} onClose={() => setOpenDeleteDialog(false)}\n                            id={deleteID}/>\n      <AddAccessRoleDialog open={openAddDialog} onClose={() => setOpenAddDialog(false)}\n                           userRoleData={userRoleData}/>\n      <UserRolesBar searchTerm={searchTerm} setSearchTerm={setSearchTerm}\n                    openEdit={openEdit}/>\n      {\n        userRoles.map(userRole => <UserRoleInfo\n          key={userRole.id}\n          userRoleData={userRole}\n          openEdit={openEdit}\n          openDelete={openDelete}\n          openAdd={openAdd}\n        />)\n      }\n    </div>\n  )\n}\n","import { Button, Card, CardActions, CardContent, Typography } from '@material-ui/core'\nimport React, { useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ChangePasswordDialog } from '../users/ChangePasswordDialog'\nimport { UserInfo } from './UserInfo'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles({\n  card: {\n    width: 'fit-content'\n  },\n  cardActions: {\n    justifyContent: 'center'\n  }\n})\n\nexport const Profile = () => {\n  const classes = useStyles()\n\n  const authState = useSelector(state => state.auth)\n\n  const [open, setOpen] = useState(false)\n  const onClose = () => {\n    setOpen(false)\n  }\n  return (\n    <div>\n      <ChangePasswordDialog open={open} onClose={onClose} id={authState.userData.id}/>\n      <Card elevation={6} className={classes.card}>\n        <CardContent>\n          <Typography align='center' variant='h5'>\n            Profile\n          </Typography>\n          <UserInfo userData={authState.userData}/>\n        </CardContent>\n        <CardActions className={classes.cardActions}>\n          <Button onClick={() => setOpen(true)}>Change Password</Button>\n        </CardActions>\n      </Card>\n    </div>\n  )\n}\n","import { Card, CardActions, CardContent, List, Typography } from '@material-ui/core'\nimport React, { useEffect } from 'react'\nimport { getFolder } from '../../store/foldersSlice'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { UpdateInfo } from './UpdateInfo'\n\nexport const Updates = () => {\n  const dispatch = useDispatch()\n  const foldersState = useSelector(state => state.folders)\n\n  useEffect(() => {\n    if (!foldersState.ids.includes(1)) {\n      if (!foldersState.loading && !foldersState.error) {\n        dispatch(getFolder(1))\n      }\n    }\n  }, [foldersState])\n\n  const renderContents = () => {\n    return foldersState.updates.map(update => <UpdateInfo key={update.id} update={update}/>)\n  }\n\n  if (foldersState.updates.length === 0) {\n    return ''\n  }\n\n  return (\n    <Card>\n      <CardContent>\n        <Typography variant='h5'>Recent Updates</Typography>\n      </CardContent>\n      <CardActions>\n        <List>\n          {\n            renderContents()\n          }\n        </List>\n      </CardActions>\n    </Card>\n  )\n}\n","import { Profile } from './Profile'\nimport React from 'react'\nimport { Updates } from './Updates'\nimport { Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles({\n  grid: {\n    padding: '1rem',\n    width: 'fit-content'\n  }\n})\n\nexport const Dashboard = () => {\n  const classes = useStyles()\n\n  return (\n    <Grid container className={classes.grid} spacing={2}>\n      <Grid item>\n        <Profile/>\n      </Grid>\n      <Grid item>\n        <Updates/>\n      </Grid>\n    </Grid>\n  )\n}\n","import { Route, Router, Switch } from 'react-router-dom'\nimport { createBrowserHistory } from 'history'\nimport React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Toolbar } from '@material-ui/core'\nimport Login from './components/auth/Login'\nimport { loadUserFromStorage, logoutUser } from './store/authSlice'\nimport { Folder } from './components/folders/Folder'\nimport { NavBar } from './components/nav/NavBar'\nimport { ErrUserUnauthorized } from './store/errors'\nimport { clearFolder } from './store/foldersSlice'\nimport { clearUsers } from './store/usersSlice'\nimport { NavDrawer } from './components/nav/NavDrawer'\nimport { PrivateRoute } from './components/auth/PrivateRoute'\nimport { Users } from './components/users/Users'\nimport { UserRoles } from './components/userRoles/UserRoles'\nimport { clearUserRoles } from './store/userRolesSlice'\nimport { Dashboard } from './components/dashboard/Dashboard'\n\nexport const history = createBrowserHistory()\n\nconst Routes = () => {\n  const authState = useSelector(state => state.auth)\n  const foldersState = useSelector(state => state.folders)\n  const usersState = useSelector(state => state.users)\n  const userRolesState = useSelector(state => state.userRoles)\n  const dispatch = useDispatch()\n\n  const [navDrawerOpen, setNavDrawerOpen] = useState(false)\n\n  const toggleNavDrawer = () => {\n    if (!authState.isAuthenticated) return\n    setNavDrawerOpen(!navDrawerOpen)\n  }\n\n  useEffect(() => {\n    if (!authState.loadStatus) dispatch(loadUserFromStorage())\n  }, [authState])\n\n  useEffect(() => {\n    if (foldersState.error === ErrUserUnauthorized || usersState.error === ErrUserUnauthorized || userRolesState.error === ErrUserUnauthorized) {\n      dispatch(logoutUser())\n      dispatch(clearFolder())\n      dispatch(clearUsers())\n      dispatch(clearUserRoles())\n    }\n  }, [foldersState, usersState, userRolesState])\n\n  return (\n    <Router history={history}>\n      <div className='App'>\n        <NavBar toggleNavDrawer={toggleNavDrawer}/>\n        <NavDrawer open={navDrawerOpen} onClose={toggleNavDrawer}/>\n        <main>\n          <Toolbar/>\n          <Switch>\n            <Route exact path='/login' component={Login}/>\n\n            <PrivateRoute exact path='/' component={Dashboard}/>\n\n            <PrivateRoute exact path='/folders/:id' component={Folder}/>\n\n            <PrivateRoute exact path='/users' component={Users}/>\n\n            <PrivateRoute exact path='/user-roles' component={UserRoles}/>\n          </Switch>\n        </main>\n      </div>\n    </Router>\n  )\n}\n\nexport default Routes\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // 'Content is cached for offline use.' message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister()\n            .then(() => {\n              window.location.reload()\n            })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. Routes is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport authReducer from './authSlice'\nimport foldersReducer from './foldersSlice'\nimport usersReducer from './usersSlice'\nimport userRolesReducer from './userRolesSlice'\n\nexport default configureStore({\n  reducer: {\n    auth: authReducer,\n    folders: foldersReducer,\n    users: usersReducer,\n    userRoles: userRolesReducer\n  }\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport Routes from './Routes'\nimport { BrowserRouter } from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker'\nimport { Provider } from 'react-redux'\nimport store from './store/index'\n\nReactDOM.render((\n  <BrowserRouter>\n    <Provider store={store}>\n      <Routes/>\n    </Provider>\n  </BrowserRouter>\n), document.getElementById('root'))\n\nserviceWorker.unregister()\n"],"sourceRoot":""}